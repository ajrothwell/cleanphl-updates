(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_Topic"],{"01a2":function(t,r,e){"use strict";var n=e("1ce6"),o=e.n(n);o.a},"02d4":function(t,r,e){var n=e("6b5c")("unscopables"),o=Array.prototype;void 0==o[n]&&e("a8d0")(o,n,{}),t.exports=function(t){o[n][t]=!0}},"053a":function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"13c8":function(t,r,e){var n=e("c3a1"),o=e("36c3"),i=e("355d").f;t.exports=function(t){return function(r){var e,a=o(r),s=n(a),c=s.length,u=0,h=[];while(c>u)i.call(a,e=s[u++])&&h.push(t?[e,a[e]]:a[e]);return h}}},1462:function(t,r){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1ce6":function(t,r,e){},"27c0":function(t,r,e){var n=e("d83f"),o=e("c6bb"),i=e("8124");t.exports=function(t){return function(r,e,a){var s,c=n(r),u=o(c.length),h=i(a,u);if(t&&e!=e){while(u>h)if(s=c[h++],s!=s)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===e)return t||h||0;return!t&&-1}}},"356b":function(t,r,e){var n=e("1c96");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},"60ae":function(t,r,e){"use strict";var n=e("e313"),o=e("27c0")(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e("02d4")("includes")},7474:function(t,r,e){var n=e("053a");t.exports=function(t,r,e){if(n(t),void 0===r)return t;switch(e){case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,o){return t.call(r,e,n,o)}}return function(){return t.apply(r,arguments)}}},"7d6d":function(t,r,e){var n=e("63b6"),o=e("13c8")(!1);n(n.S,"Object",{values:function(t){return o(t)}})},8124:function(t,r,e){var n=e("c78e"),o=Math.max,i=Math.min;t.exports=function(t,r){return t=n(t),t<0?o(t+r,0):i(t,r)}},"9e1c":function(t,r,e){e("7d6d"),t.exports=e("584a").Object.values},c6bb:function(t,r,e){var n=e("c78e"),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},c78e:function(t,r){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},d83f:function(t,r,e){var n=e("356b"),o=e("1462");t.exports=function(t){return n(o(t))}},db0c:function(t,r,e){t.exports=e("9e1c")},e313:function(t,r,e){var n=e("66c3"),o=e("de04"),i=e("a8d0"),a=e("fd55"),s=e("7474"),c="prototype",u=function(t,r,e){var h,f,l,p,d=t&u.F,v=t&u.G,y=t&u.S,w=t&u.P,g=t&u.B,b=v?n:y?n[r]||(n[r]={}):(n[r]||{})[c],m=v?o:o[r]||(o[r]={}),x=m[c]||(m[c]={});for(h in v&&(e=r),e)f=!d&&b&&void 0!==b[h],l=(f?b:e)[h],p=g&&f?s(l,n):w&&"function"==typeof l?s(Function.call,l):l,b&&a(b,h,l,t&u.U),m[h]!=l&&i(m,h,p),w&&x[h]!=l&&(x[h]=l)};n.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},e95e:function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.shouldShowTopic?e("div",[t.shouldShowHeader?e("a",{staticClass:"topic-header",attrs:{href:"#","data-topic-key":t.topicKey},on:{click:function(r){return r.preventDefault(),t.handleTopicHeaderClick(r)}}},[e("div",{staticClass:"topic-header-content"},[e("font-awesome-icon",{attrs:{icon:t.icon}}),e("div",{staticClass:"topic-header-label-holder"},[t._v("\n        "+t._s(t.topic.label)+"\n      ")])],1),e("span",{directives:[{name:"show",rawName:"v-show",value:"waiting"===t.status,expression:"status === 'waiting'"}],staticClass:"loading"},[e("font-awesome-icon",{staticClass:"fa-lg spin",attrs:{icon:"spinner"}})],1)]):t._e(),e("transition",{attrs:{name:"topic-body"}},[t.shouldShowBody?e("div",{staticClass:"topic-body",attrs:{"data-topic-key":t.topicKey}},[e("topic-component-group",{attrs:{"topic-components":t.topic.components}})],1):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowError,expression:"shouldShowError"}],staticClass:"topic-body",domProps:{innerHTML:t._s(this.errorMessage)}})],1):t._e()},o=[],i=e("a4bb"),a=e.n(i),s=e("5d73"),c=e.n(s),u=(e("60ae"),e("db0c")),h=e.n(u),f=e("0b6d"),l={name:"Topic",props:["topicKey"],components:{},beforeCreate:function(){this.$options.components.TopicComponentGroup=f["default"]},computed:{topic:function(){var t=this,r=this.$props.topicKey,e=this.$config.topics.filter(function(r){return r.key===t.$props.topicKey});if(1!==e.length)throw"Could not get single config object for topic '".concat(r,"'.");var n=e[0];return n},icon:function(){return this.topic.icon},isActive:function(){var t=this.topic.key,r=this.$store.state.activeTopic;return r===t},shouldShowHeader:function(){return this.$config.topics.length>1},dataSources:function(){return this.topic.dataSources||[]},hasData:function(){var t=this,r=this.dataSources.every(function(r){var e=t.$config.dataSources[r].targets;if(e){var n=t.$store.state.sources[r].targets,o=h()(n);return 0!==o.length&&o.every(function(t){return"waiting"!==t.status})}return!!t.$store.state.sources[r].data});return r},shouldShowBody:function(){var t="success"===this.status,r=this.hasData,e=t&&r&&this.isActive;return e},shouldShowTopic:function(){return!this.topic.showTopicOnlyIfDataExists||(!!this.showTopicBasedOnOtherData||this.showTopicOnlyIfDataExists)},shouldShowError:function(){var t=this.isActive&&("error"===this.status||"waiting"!==this.status&&!this.hasData);return t&&console.log("BINGO BINGO BINGO:",this.topicKey,"shouldShowError:",t,"status:",this.status,"hasData:",this.hasData),t},errorMessage:function(){return this.topic.errorMessage?this.topic.errorMessage(this.$store.state):"Could not locate records for that address."},status:{cache:!1,get:function(){var t,r=this,e=this.topic.dataSources||[];if(0===e.length)return"success";var n=e.map(function(t){var e=r.$config.dataSources[t].targets;if(e){var n=r.$store.state.sources[t].targets,o=h()(n);if(0===o.length)return;return o.map(function(t){return t.status})}return[r.$store.state.sources[t].status]}),o=[],i=!0,a=!1,s=void 0;try{for(var u,f=c()(n);!(i=(u=f.next()).done);i=!0){var l=u.value;if(l){var p=!0,d=!1,v=void 0;try{for(var y,w=c()(l);!(p=(y=w.next()).done);p=!0){var g=y.value;o.push(g)}}catch(b){d=!0,v=b}finally{try{p||null==w.return||w.return()}finally{if(d)throw v}}}}}catch(b){a=!0,s=b}finally{try{i||null==f.return||f.return()}finally{if(a)throw s}}return t=o.includes("waiting")?"waiting":o.includes("error")?"error":"success",t}},showTopicBasedOnOtherData:function(){if(!this.topic.showTopicBasedOnOtherData)return!1;var t=this.topic.showTopicBasedOnOtherData.requiredData,r=this.checkForData(t);if(!r)return!1;var e=a()(this.topic.showTopicBasedOnOtherData.otherData),n=[],o=!0,i=!1,s=void 0;try{for(var u,h=c()(e);!(o=(u=h.next()).done);o=!0){var f=u.value,l=this.topic.showTopicBasedOnOtherData.otherData[f],p=a()(l),d=!0,v=!1,y=void 0;try{for(var w,g=c()(p);!(d=(w=g.next()).done);d=!0){var b=w.value;this.$store.state.sources[f][b]===l[b]?n.push(!0):n.push(!1)}}catch(m){v=!0,y=m}finally{try{d||null==g.return||g.return()}finally{if(v)throw y}}}}catch(m){i=!0,s=m}finally{try{o||null==h.return||h.return()}finally{if(i)throw s}}return!n.includes(!1)},showTopicOnlyIfDataExists:function(){return this.checkForData(this.topic.showTopicOnlyIfDataExists)}},methods:{checkForData:function(t){var r=a()(t),e=!0,n=!0,o=!1,i=void 0;try{for(var s,u=c()(r);!(n=(s=u.next()).done);n=!0){var h=s.value,f=t[h].pathToDataArray,l=t[h].minDataLength,p=void 0;if(!this.$store.state.sources[h].data)return!1;f?1===f.length&&(p=this.$store.state.sources[h].data[f[0]]):p=this.$store.state.sources[h].data,p.length<l&&(e=!1)}}catch(d){o=!0,i=d}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e},configForBasemap:function(t){return this.$config.map.basemaps[t]},handleTopicHeaderClick:function(t){var r,e=this.$props.topicKey;e!==this.$store.state.activeTopic&&(r=e),this.$controller.handleTopicHeaderClick(r)}}},p=l,d=(e("01a2"),e("2877")),v=Object(d["a"])(p,n,o,!1,null,"0685c8f1",null);r["default"]=v.exports}}]);
//# sourceMappingURL=tcg_pvc_Topic.49b2216b.js.map