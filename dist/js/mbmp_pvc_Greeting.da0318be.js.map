{"version":3,"sources":["webpack:///./node_modules/@philly/vue-comps/src/components/Greeting.vue?8759","webpack:///node_modules/@philly/vue-comps/src/components/Greeting.vue","webpack:///./node_modules/@philly/vue-comps/src/components/Greeting.vue?4400","webpack:///./node_modules/@philly/vue-comps/src/components/Greeting.vue","webpack:///./node_modules/@philly/vue-comps/src/components/TopicComponent.vue","webpack:///node_modules/@philly/vue-comps/src/components/TopicComponent.vue","webpack:///./node_modules/@philly/vue-comps/src/components/TopicComponent.vue?ecc0","webpack:///./node_modules/@philly/vue-comps/src/components/Greeting.vue?f8dd"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_e","addressAutocompleteEnabled","shouldShowAddressInput","components","hasError","domProps","innerHTML","_s","message","errorMessage","attrs","topic-components","options","item","_l","topicComp","topicCompIndex","type","key","tag","slots","staticRenderFns","Greetingvue_type_script_lang_js_","Image_","__webpack_require__","e","then","bind","AddressInput","AddressCandidateList","TopicComponentGroup","mixins","TopicComponent","data","greetingStyle","$props","props","String","default","computed","$config","addressInputLocation","addressInput","autocompleteEnabled","greetingConfig","greeting","$store","state","geocode","status","input","concat","components_Greetingvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","TopicComponentvue_type_script_lang_js_","beforeCreate","created","nullValue","methods","evaluateSlot","valOrGetter","_this","transforms","arguments","length","undefined","val","valOrGetterType","esm_typeof","controller","$controller","getter","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","transformKey","value","transform","globals","globalKeys","keys_default","window","filter","includes","reduce","obj","fn","_iterator","get_iterator_default","next","done","err","return","components_TopicComponentvue_type_script_lang_js_","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_Greeting_vue_vue_type_style_index_0_id_2fb6dcf0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_Greeting_vue_vue_type_style_index_0_id_2fb6dcf0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/mbmp_pvc_Greeting.da0318be.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns medium-20 medium-centered\",style:(_vm.greetingStyle)},[(this.shouldShowAddressInput)?_c('address-input'):_vm._e(),(this.addressAutocompleteEnabled && this.shouldShowAddressInput)?_c('address-candidate-list'):_vm._e(),(!_vm.components && !_vm.hasError)?_c('div',{staticClass:\"greeting\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}):_vm._e(),(!_vm.components && _vm.hasError)?_c('div',{staticClass:\"greeting greeting-error\",domProps:{\"innerHTML\":_vm._s(_vm.errorMessage)}}):_vm._e(),_c('topic-component-group',{attrs:{\"topic-components\":_vm.options.components,\"item\":_vm.item}}),_vm._l((_vm.components),function(topicComp,topicCompIndex){return (_vm.components)?_c(topicComp.type,{key:'greeting',tag:\"component\",staticClass:\"topic-comp\",attrs:{\"slots\":topicComp.slots}}):_vm._e()})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"columns medium-20 medium-centered\"\r\n       :style=\"greetingStyle\"\r\n  >\r\n\r\n    <address-input v-if=\"this.shouldShowAddressInput\" />\r\n    <address-candidate-list v-if=\"this.addressAutocompleteEnabled && this.shouldShowAddressInput\"/>\r\n\r\n    <div v-if=\"!components && !hasError\" class=\"greeting\" v-html=\"message\">\r\n      <!-- {{ this.$props.message }} -->\r\n    </div>\r\n\r\n    <div v-if=\"!components && hasError\" class=\"greeting greeting-error\" v-html=\"errorMessage\">\r\n    </div>\r\n\r\n    <topic-component-group :topic-components=\"options.components\" :item=\"item\" />\r\n\r\n    <component v-if=\"components\"\r\n               v-for=\"(topicComp, topicCompIndex) in components\"\r\n               class=\"topic-comp\"\r\n               :is=\"topicComp.type\"\r\n               :slots=\"topicComp.slots\"\r\n               :key=\"'greeting'\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    components: {\r\n      Image_: () => import(/* webpackChunkName: \"inGreeting_pvc_Image\" */'./Image.vue'),\r\n      AddressInput: () => import(/* webpackChunkName: \"inGreeting_pvc_AddressInput\" */'./AddressInput.vue'),\r\n      AddressCandidateList: () => import(/* webpackChunkName: \"inGreeting_pvc_AddressCandidateList\" */'./AddressCandidateList.vue'),\r\n      TopicComponentGroup: () => import(/* webpackChunkName: \"inGreeting_pvc_TopicComponentGroup\" */'./TopicComponentGroup.vue'),\r\n    },\r\n    mixins: [TopicComponent],\r\n    data() {\r\n      let data = {\r\n        greetingStyle: this.$props.options.style || {}\r\n      }\r\n      return data;\r\n    },\r\n    props: {\r\n      'message': {\r\n        type: String,\r\n        default: function() {\r\n          return 'defaultMessage';\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n      shouldShowAddressInput() {\r\n        if (this.$config.addressInputLocation == 'topics') {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      addressAutocompleteEnabled() {\r\n        // TODO tidy up the code\r\n        if (this.$config.addressInput) {\r\n          if (this.$config.addressInput.autocompleteEnabled === true) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      components() {\r\n        const greetingConfig = this.$config.greeting || {};\r\n        return greetingConfig.components;\r\n      },\r\n      hasError() {\r\n        return this.$store.state.geocode.status === 'error';\r\n      },\r\n      errorMessage() {\r\n        const input = this.$store.state.geocode.input;\r\n        return `\r\n          <p>\r\n            We couldn't find\r\n            ${input ? '<strong>' + input + '</strong>' : 'that address'}.\r\n            Are you sure everything was spelled correctly?\r\n          </p>\r\n          <p>\r\n            Here are some examples of things you can search for:\r\n          </p>\r\n          <ul>\r\n            <li>1234 Market St</li>\r\n            <li>1001 Pine Street #201</li>\r\n            <li>12th & Market</li>\r\n            <li>883309050 (an OPA number with no hyphens or other characters)</li>\r\n          </ul>\r\n        `;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .mb-panel-topics-greeting {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .greeting {\r\n    font-size: 20px;\r\n    color: #444;\r\n    padding: 14px;\r\n  }\r\n\r\n  .greeting-error {\r\n    border-left-color: #ff0000;\r\n  }\r\n\r\n  /*medium*/\r\n  @media screen and (min-width: 750px) {\r\n    .mb-panel-topics-greeting {\r\n      /*make this scroll on medium screens*/\r\n      /*REVIEW this is a little hacky. the 120px shouldn't be hard-coded.*/\r\n      height: calc(100vh - 120px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Greeting.vue?vue&type=template&id=2fb6dcf0&scoped=true&\"\nimport script from \"./Greeting.vue?vue&type=script&lang=js&\"\nexport * from \"./Greeting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Greeting.vue?vue&type=style&index=0&id=2fb6dcf0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb6dcf0\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./TopicComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./TopicComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n  export default {\r\n    // props: ['slots', 'options', 'item'],\r\n    props: {\r\n      'slots': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'options': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'item': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n    },\r\n    beforeCreate() {\r\n      // console.log('TopicComponent.vue beforeCreate is running, this:', this);\r\n    },\r\n    created() {\r\n      // console.log('TopicComponent.vue created is running, this.$props.slots:', this.$props.slots);\r\n    },\r\n    computed: {\r\n      nullValue() {\r\n        const options = this.options || {};\r\n        return options.nullValue;\r\n      },\r\n    },\r\n    methods: {\r\n      evaluateSlot(valOrGetter, transforms = [], nullValue = '') {\r\n        // console.log('evaluateSlot is running, valOrGetter:', valOrGetter);\r\n        // check for null val/getter\r\n        if (!valOrGetter) {\r\n          return valOrGetter;\r\n        }\r\n\r\n        const valOrGetterType = typeof valOrGetter;\r\n        let val;\r\n\r\n        // fn\r\n        if (valOrGetterType === 'function') {\r\n          const state = this.$store.state;\r\n          const controller = this.$controller;\r\n          const getter = valOrGetter;\r\n\r\n          // const getterText = String(getter);\r\n          // const depsRe = /state(\\.\\w+)+/g;\r\n          // const depsText = getterText.match(depsRe);\r\n          // const deps = depsText.map(eval);\r\n\r\n          const item = this.item;\r\n          // console.log('in evaluateSlot, item:', item);\r\n\r\n          // if this comp is associated with an \"item\" (generally some object\r\n          // from a list of things, e.g. dor parcels), pass the item itself\r\n          // as well when evaluating\r\n          if (item) {\r\n            val = getter(state, item, controller);\r\n          } else {\r\n            // console.log('evaluateSlot, about to get value');\r\n            val = getter(state);\r\n            // console.log('state:', state, 'val:', val);\r\n          }\r\n        } else {\r\n          val = valOrGetter;\r\n        }\r\n\r\n        // format nulls but not falses\r\n        if (val === false) {\r\n\r\n        } else if (!val) {\r\n          return nullValue;\r\n        }\r\n\r\n        // apply transforms\r\n        for (let transformKey of transforms) {\r\n          // get transform definition from config by name\r\n          const transform = this.$config.transforms[transformKey];\r\n          // make object of (relevant) globals by filtering window object\r\n          let globals;\r\n          const globalKeys = transform.globals;\r\n          if (globalKeys) {\r\n            globals = Object.keys(window)\r\n                          .filter(key => globalKeys.includes(key))\r\n                          .reduce((obj, key) => {\r\n                              obj[key] = window[key];\r\n                              return obj;\r\n                          }, {});\r\n          }\r\n          // run transform\r\n          const fn = transform.transform;\r\n          val = fn(val, globals);\r\n        }\r\n\r\n        return val;\r\n      },\r\n\r\n      // not sure how children can use this. `this` isn't binding correctly at\r\n      // the time the child gets instantiated.\r\n      // getComputedProperties() {\r\n      //   const slots = this.slots;\r\n      //   return Object.keys(slots).reduce((o, key) => {\r\n      //     const valOrGetter = slots[key];\r\n      //     // wrap slot val/getter in evaluator fn\r\n      //     o[key] = () => {\r\n      //       this.evaluateSlot(valOrGetter);\r\n      //     }\r\n      //     return o;\r\n      //   }, {});\r\n      // }\r\n    },\r\n  };\r\n</script>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=style&index=0&id=2fb6dcf0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Greeting.vue?vue&type=style&index=0&id=2fb6dcf0&scoped=true&lang=css&\""],"sourceRoot":""}