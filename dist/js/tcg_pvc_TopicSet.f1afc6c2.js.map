{"version":3,"sources":["webpack:///./node_modules/@philly/vue-comps/src/components/Topic.vue?9f5e","webpack:///node_modules/@philly/vue-comps/src/components/Topic.vue","webpack:///./node_modules/@philly/vue-comps/src/components/Topic.vue?13e7","webpack:///./node_modules/@philly/vue-comps/src/components/Topic.vue","webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///./node_modules/@philly/vue-comps/src/components/TopicComponent.vue","webpack:///node_modules/@philly/vue-comps/src/components/TopicComponent.vue","webpack:///./node_modules/@philly/vue-comps/src/components/TopicComponent.vue?ecc0","webpack:///./node_modules/@philly/vue-comps/src/components/TopicSet.vue?2542","webpack:///node_modules/@philly/vue-comps/src/components/TopicSet.vue","webpack:///./node_modules/@philly/vue-comps/src/components/TopicSet.vue?354a","webpack:///./node_modules/@philly/vue-comps/src/components/TopicSet.vue","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/@philly/vue-comps/src/components/Topic.vue?6b57","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/values.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","href","data-topic-key","topicKey","on","click","$event","preventDefault","handleTopicHeaderClick","icon","_v","_s","topic","label","directives","name","rawName","value","status","expression","_e","topic-components","components","domProps","innerHTML","errorMessage","staticRenderFns","Topicvue_type_script_lang_js_","props","beforeCreate","$options","TopicComponentGroup","computed","_this","$props","topicsFiltered","$config","topics","filter","key","length","concat","config","isActive","activeTopic","$store","state","shouldShowHeader","dataSources","hasData","_this2","every","dataSource","targetsFn","targets","targetsMap","sources","values_default","target","data","shouldShowBody","succeeded","should","shouldShowTopic","showTopicOnlyIfDataExists","showTopicBasedOnOtherData","shouldShowError","console","log","cache","get","topicStatus","_this3","sourceStatuses","map","flatArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","sourceStatus","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","sourceStatusValue","push","err","return","includes","requiredData","requiredDataExists","checkForData","otherDataSources","keys_default","otherData","answers","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","otherDataSource","dataSourceKeys","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","dataSourceKey","methods","requiredDataSources","result","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","requiredDataSource","pathToDataArray","minDataLength","dataArray","configForBasemap","basemaps","e","nextTopic","$controller","components_Topicvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","getKeys","__webpack_require__","toIObject","isEnum","f","module","exports","isEntries","it","O","keys","i","call","TopicComponentvue_type_script_lang_js_","slots","type","default","options","item","created","nullValue","evaluateSlot","valOrGetter","transforms","arguments","val","valOrGetterType","esm_typeof","controller","getter","_loop","transformKey","transform","globals","globalKeys","window","reduce","obj","fn","components_TopicComponentvue_type_script_lang_js_","_l","TopicSetvue_type_script_lang_js_","mixins","TopicComponent","Topic","mounted","setDefaultTopicActive","defaultTopic","commit","components_TopicSetvue_type_script_lang_js_","$export","$values","S","values","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_Topic_vue_vue_type_style_index_0_id_278b8daa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_Topic_vue_vue_type_style_index_0_id_278b8daa_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/tcg_pvc_TopicSet.f1afc6c2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shouldShowTopic)?_c('div',[(_vm.shouldShowHeader)?_c('a',{staticClass:\"topic-header\",attrs:{\"href\":\"#\",\"data-topic-key\":_vm.topicKey},on:{\"click\":function($event){$event.preventDefault();return _vm.handleTopicHeaderClick($event)}}},[_c('div',{staticClass:\"topic-header-content\"},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.icon}}),_c('div',{staticClass:\"topic-header-label-holder\"},[_vm._v(\"\\n        \"+_vm._s(_vm.topic.label)+\"\\n      \")])],1),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status === 'waiting'),expression:\"status === 'waiting'\"}],staticClass:\"loading\"},[_c('font-awesome-icon',{staticClass:\"fa-lg spin\",attrs:{\"icon\":\"spinner\"}})],1)]):_vm._e(),_c('transition',{attrs:{\"name\":\"topic-body\"}},[(_vm.shouldShowBody)?_c('div',{staticClass:\"topic-body\",attrs:{\"data-topic-key\":_vm.topicKey}},[_c('topic-component-group',{attrs:{\"topic-components\":_vm.topic.components}})],1):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowError),expression:\"shouldShowError\"}],staticClass:\"topic-body\",domProps:{\"innerHTML\":_vm._s(this.errorMessage)}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"shouldShowTopic\">\r\n  <!-- <div> -->\r\n    <a href=\"#\"\r\n       class=\"topic-header\"\r\n       @click.prevent=\"handleTopicHeaderClick\"\r\n       v-if=\"shouldShowHeader\"\r\n       :data-topic-key=\"topicKey\"\r\n    >\r\n      <div class='topic-header-content'>\r\n        <font-awesome-icon :icon=\"icon\" />\r\n        <div class='topic-header-label-holder'>\r\n          {{ topic.label }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"loading\"> -->\r\n      <span v-show=\"status === 'waiting'\" class=\"loading\">\r\n        <font-awesome-icon icon=\"spinner\" class=\"fa-lg spin\" />\r\n      </span>\r\n      <!-- </div> -->\r\n    </a>\r\n\r\n    <!-- success -->\r\n    <transition name=\"topic-body\">\r\n      <div class=\"topic-body\"\r\n           v-if=\"shouldShowBody\"\r\n           :data-topic-key=\"topicKey\"\r\n      >\r\n        <topic-component-group :topic-components=\"topic.components\" />\r\n      </div>\r\n    </transition>\r\n\r\n    <!-- error -->\r\n    <div class=\"topic-body\"\r\n         v-show=\"shouldShowError\"\r\n         v-html=\"this.errorMessage\"\r\n    >\r\n    <!-- Could not locate records for that address. -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TopicComponentGroup from './TopicComponentGroup.vue';\r\n\r\n  export default {\r\n    name: 'Topic',\r\n    props: ['topicKey'],\r\n    components: {},\r\n    beforeCreate() {\r\n      this.$options.components.TopicComponentGroup = TopicComponentGroup;\r\n    },\r\n    computed: {\r\n      // returns the full config object for the topic\r\n      topic() {\r\n        const topicKey = this.$props.topicKey;\r\n        const topicsFiltered = this.$config.topics.filter((topic) => {\r\n          return topic.key === this.$props.topicKey;\r\n        });\r\n        if (topicsFiltered.length !== 1) {\r\n          throw `Could not get single config object for topic '${topicKey}'.`;\r\n        }\r\n        const config = topicsFiltered[0];\r\n        return config;\r\n      },\r\n      icon() {\r\n        return this.topic.icon;\r\n      },\r\n      isActive() {\r\n        const key = this.topic.key;\r\n        const activeTopic = this.$store.state.activeTopic;\r\n        return activeTopic === key;\r\n      },\r\n      shouldShowHeader() {\r\n        return this.$config.topics.length > 1;\r\n      },\r\n      dataSources() {\r\n        return this.topic.dataSources || [];\r\n      },\r\n      hasData() {\r\n        // console.log(this.topicKey, '-', 'hasData?', this.dataSources);\r\n\r\n        // make sure the following is true for all data sources\r\n        const hasData = this.dataSources.every(dataSource => {\r\n          const targetsFn = this.$config.dataSources[dataSource].targets;\r\n\r\n          // if the data source is configured for targets\r\n          if (targetsFn) {\r\n            const targetsMap = this.$store.state.sources[dataSource].targets;\r\n            const targets = Object.values(targetsMap);\r\n\r\n            // but there are no targets for this address, return false\r\n            if (targets.length === 0) {\r\n              return false;\r\n            }\r\n\r\n            // if there are targets for this address, make sure none of them\r\n            // are \"waiting\"\r\n            return targets.every(target => target.status !== 'waiting');\r\n\r\n          // if the data source is not configured for targets, just check that\r\n          // it has data\r\n          } else {\r\n            return !!this.$store.state.sources[dataSource].data;\r\n          }\r\n        });\r\n\r\n        return hasData;\r\n      },\r\n      shouldShowBody() {\r\n        const succeeded = this.status === 'success';\r\n        const hasData = this.hasData;\r\n        const should = succeeded && hasData && this.isActive;\r\n        return should;\r\n      },\r\n      shouldShowTopic() {\r\n        if (!this.topic.showTopicOnlyIfDataExists) {\r\n          return true;\r\n        // if showTopicOnlyIfDataExists, but you want to overrule that\r\n        } else if (this.showTopicBasedOnOtherData) {\r\n          return true;\r\n        // if showTopicOnlyIfDataExists and it is not overrulled\r\n        } else {\r\n          return this.showTopicOnlyIfDataExists;\r\n        }\r\n      },\r\n      shouldShowError() {\r\n        const shouldShowError = (\r\n          // topic must be active and\r\n          this.isActive && (\r\n            // there either has to be an error or\r\n            this.status === 'error' ||\r\n            // we got the response and it's empty\r\n            (this.status !== 'waiting' && !this.hasData)\r\n          )\r\n        );\r\n        shouldShowError && console.log('BINGO BINGO BINGO:', this.topicKey, 'shouldShowError:', shouldShowError, 'status:', this.status, 'hasData:', this.hasData);\r\n        return shouldShowError;\r\n      },\r\n      errorMessage() {\r\n        if (this.topic.errorMessage) {\r\n          return this.topic.errorMessage(this.$store.state);\r\n        } else {\r\n          return 'Could not locate records for that address.';\r\n        }\r\n      },\r\n      // REVIEW this is getting cached and not updating when the deps update\r\n      status: {\r\n        cache: false,\r\n        get() {\r\n          // get the status of each source\r\n          const dataSources = this.topic.dataSources || [];\r\n\r\n          // if no sources, return success\r\n          if (dataSources.length === 0) {\r\n            return 'success';\r\n          }\r\n\r\n          let topicStatus;\r\n          const sourceStatuses = dataSources.map(dataSource => {\r\n            const targetsFn = this.$config.dataSources[dataSource].targets;\r\n\r\n            // if the data source is configured for targets\r\n            if (targetsFn) {\r\n              const targetsMap = this.$store.state.sources[dataSource].targets;\r\n              const targets = Object.values(targetsMap);\r\n\r\n              // but there are no targets for this address, return false\r\n              if (targets.length === 0) {\r\n                return;\r\n              }\r\n\r\n              // if there are targets for this address, make sure none of them\r\n              // are \"waiting\"\r\n              return targets.map(target => {\r\n                return target.status\r\n              });\r\n\r\n            // if the data source is not configured for targets, just check that\r\n            // it has data\r\n            } else {\r\n              return [this.$store.state.sources[dataSource].status];\r\n            }\r\n          });\r\n\r\n          let flatArray = []\r\n          for (let sourceStatus of sourceStatuses) {\r\n            if (sourceStatus) {\r\n              for (let sourceStatusValue of sourceStatus) {\r\n                flatArray.push(sourceStatusValue);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (flatArray.includes('waiting')) {\r\n            topicStatus = 'waiting';\r\n          } else if (flatArray.includes('error')) {\r\n            topicStatus = 'error';\r\n          } else {\r\n            topicStatus = 'success';\r\n          }\r\n          return topicStatus;\r\n        }\r\n      },\r\n      showTopicBasedOnOtherData() {\r\n        // stop if \"showTopicBasedOnOtherData\" doesn't exist\r\n        if (!this.topic.showTopicBasedOnOtherData) {\r\n          return false;\r\n        }\r\n\r\n        // stop if the required data for this topic does not exist\r\n        const requiredData = this.topic.showTopicBasedOnOtherData.requiredData;\r\n        let requiredDataExists = this.checkForData(requiredData);\r\n        // console.log('requiredDataExists:', requiredDataExists);\r\n        if (!requiredDataExists) {\r\n          return false;\r\n        }\r\n\r\n        // continue if the other data does not match the conditions put into the \"showTopicBasedOnOtherData\" object\r\n        const otherDataSources = Object.keys(this.topic.showTopicBasedOnOtherData.otherData);\r\n        let answers = [];\r\n        for (let otherDataSource of otherDataSources) {\r\n          const dataSource = this.topic.showTopicBasedOnOtherData.otherData[otherDataSource];\r\n          const dataSourceKeys = Object.keys(dataSource);\r\n          for (let dataSourceKey of dataSourceKeys) {\r\n            if (this.$store.state.sources[otherDataSource][dataSourceKey] === dataSource[dataSourceKey]) {\r\n              answers.push(true);\r\n            } else {\r\n              answers.push(false);\r\n            }\r\n          }\r\n        }\r\n        if (!answers.includes(false)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      showTopicOnlyIfDataExists() {\r\n        return this.checkForData(this.topic.showTopicOnlyIfDataExists);\r\n      },\r\n    },\r\n    methods: {\r\n      checkForData(requiredData) {\r\n        const requiredDataSources = Object.keys(requiredData);\r\n        // console.log('checkForData is running, requiredData:', requiredData, 'requiredDataSources:', requiredDataSources);\r\n        let result = true;\r\n        for (let requiredDataSource of requiredDataSources) {\r\n          const pathToDataArray = requiredData[requiredDataSource].pathToDataArray;\r\n          const minDataLength = requiredData[requiredDataSource].minDataLength;\r\n          let dataArray;\r\n          if (!this.$store.state.sources[requiredDataSource].data) {\r\n            // if there is no data (yet)\r\n            return false;\r\n          } else {\r\n            if (!pathToDataArray) {\r\n              dataArray = this.$store.state.sources[requiredDataSource].data;\r\n            } else if (pathToDataArray.length === 1) {\r\n              dataArray = this.$store.state.sources[requiredDataSource].data[pathToDataArray[0]];\r\n            }\r\n            // TODO - implement system if the path to the data is longer than a single step\r\n            // else {\r\n              //   dataArray = this.$store.state.sources[requiredDataSource].data[pathToDataArray[0]].[pathToDataArray[1]];\r\n              // }\r\n            if (dataArray.length < minDataLength) {\r\n              result = false\r\n            }\r\n          }\r\n        }\r\n        return result;\r\n      },\r\n      configForBasemap(key) {\r\n        return this.$config.map.basemaps[key];\r\n      },\r\n\r\n      handleTopicHeaderClick(e) {\r\n        const topic = this.$props.topicKey;\r\n        let nextTopic;\r\n\r\n        if (topic !== this.$store.state.activeTopic) {\r\n          nextTopic = topic;\r\n        }\r\n\r\n        // notify controller (which will handle routing)\r\n        this.$controller.handleTopicHeaderClick(nextTopic);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  /*REVIEW these aren't prefixed `mb-`because they're scoped, but it feels\r\n  inconsistent?*/\r\n  .topic-header {\r\n    background: #f5f5f5;\r\n    border: 1px solid #ddd;\r\n    display: block;\r\n    font-size: 18px;\r\n    font-weight: normal;\r\n    min-height: 70px;\r\n    line-height: 25px;\r\n    padding: 10px;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n    margin-bottom: 8px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .topic-header:hover {\r\n    background: #fff;\r\n    color: inherit;\r\n  }\r\n\r\n  .topic-header-content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n\r\n  .topic-header-icon {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n\r\n  .topic-header-label-holder {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .topic-body {\r\n    padding: 5px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .topic-body-enter-active, .topic-body-leave-active {\r\n    transition: opacity 0.18s;\r\n  }\r\n\r\n  .topic-body-enter, .topic-body-leave-to {\r\n    opacity: 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Topic.vue?vue&type=template&id=278b8daa&scoped=true&\"\nimport script from \"./Topic.vue?vue&type=script&lang=js&\"\nexport * from \"./Topic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Topic.vue?vue&type=style&index=0&id=278b8daa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"278b8daa\",\n  null\n  \n)\n\nexport default component.exports","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","var render, staticRenderFns\nimport script from \"./TopicComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./TopicComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n  export default {\r\n    // props: ['slots', 'options', 'item'],\r\n    props: {\r\n      'slots': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'options': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n      'item': {\r\n        type: Object,\r\n        default: function() { return {} }\r\n      },\r\n    },\r\n    beforeCreate() {\r\n      // console.log('TopicComponent.vue beforeCreate is running, this:', this);\r\n    },\r\n    created() {\r\n      // console.log('TopicComponent.vue created is running, this.$props.slots:', this.$props.slots);\r\n    },\r\n    computed: {\r\n      nullValue() {\r\n        const options = this.options || {};\r\n        return options.nullValue;\r\n      },\r\n    },\r\n    methods: {\r\n      evaluateSlot(valOrGetter, transforms = [], nullValue = '') {\r\n        // console.log('evaluateSlot is running, valOrGetter:', valOrGetter);\r\n        // check for null val/getter\r\n        if (!valOrGetter) {\r\n          return valOrGetter;\r\n        }\r\n\r\n        const valOrGetterType = typeof valOrGetter;\r\n        let val;\r\n\r\n        // fn\r\n        if (valOrGetterType === 'function') {\r\n          const state = this.$store.state;\r\n          const controller = this.$controller;\r\n          const getter = valOrGetter;\r\n\r\n          // const getterText = String(getter);\r\n          // const depsRe = /state(\\.\\w+)+/g;\r\n          // const depsText = getterText.match(depsRe);\r\n          // const deps = depsText.map(eval);\r\n\r\n          const item = this.item;\r\n          // console.log('in evaluateSlot, item:', item);\r\n\r\n          // if this comp is associated with an \"item\" (generally some object\r\n          // from a list of things, e.g. dor parcels), pass the item itself\r\n          // as well when evaluating\r\n          if (item) {\r\n            val = getter(state, item, controller);\r\n          } else {\r\n            // console.log('evaluateSlot, about to get value');\r\n            val = getter(state);\r\n            // console.log('state:', state, 'val:', val);\r\n          }\r\n        } else {\r\n          val = valOrGetter;\r\n        }\r\n\r\n        // format nulls but not falses\r\n        if (val === false) {\r\n\r\n        } else if (!val) {\r\n          return nullValue;\r\n        }\r\n\r\n        // apply transforms\r\n        for (let transformKey of transforms) {\r\n          // get transform definition from config by name\r\n          const transform = this.$config.transforms[transformKey];\r\n          // make object of (relevant) globals by filtering window object\r\n          let globals;\r\n          const globalKeys = transform.globals;\r\n          if (globalKeys) {\r\n            globals = Object.keys(window)\r\n                          .filter(key => globalKeys.includes(key))\r\n                          .reduce((obj, key) => {\r\n                              obj[key] = window[key];\r\n                              return obj;\r\n                          }, {});\r\n          }\r\n          // run transform\r\n          const fn = transform.transform;\r\n          val = fn(val, globals);\r\n        }\r\n\r\n        return val;\r\n      },\r\n\r\n      // not sure how children can use this. `this` isn't binding correctly at\r\n      // the time the child gets instantiated.\r\n      // getComputedProperties() {\r\n      //   const slots = this.slots;\r\n      //   return Object.keys(slots).reduce((o, key) => {\r\n      //     const valOrGetter = slots[key];\r\n      //     // wrap slot val/getter in evaluator fn\r\n      //     o[key] = () => {\r\n      //       this.evaluateSlot(valOrGetter);\r\n      //     }\r\n      //     return o;\r\n      //   }, {});\r\n      // }\r\n    },\r\n  };\r\n</script>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicComponent.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((this.$config.topics),function(topic){return _c('topic',{key:topic.key,attrs:{\"topicKey\":topic.key}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <topic v-for=\"topic in this.$config.topics\"\r\n           :topicKey=\"topic.key\"\r\n           :key=\"topic.key\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Topic from './Topic.vue';\r\n  import TopicComponent from './TopicComponent.vue';\r\n\r\n  export default {\r\n    mixins: [TopicComponent],\r\n    name: 'TopicSet',\r\n    components: {\r\n      Topic,\r\n    },\r\n    mounted() {\r\n      if (this.$store.state.activeTopic === null || this.$store.state.activeTopic === '') {\r\n        this.setDefaultTopicActive();\r\n      }\r\n    },\r\n    methods: {\r\n      setDefaultTopicActive() {\r\n        if (this.$props.options.defaultTopic) {\r\n          this.$store.commit('setActiveTopic', this.$props.options.defaultTopic);\r\n          // this.$store.state.activeTopic = this.$props.options.defaultTopic;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicSet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./TopicSet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopicSet.vue?vue&type=template&id=ef2cae98&\"\nimport script from \"./TopicSet.vue?vue&type=script&lang=js&\"\nexport * from \"./TopicSet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=style&index=0&id=278b8daa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=style&index=0&id=278b8daa&scoped=true&lang=css&\"","module.exports = require(\"core-js/library/fn/object/values\");"],"sourceRoot":""}