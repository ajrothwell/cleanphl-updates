(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_ePayForm"],{"02d4":function(t,e,n){var r=n("6b5c")("unscopables"),a=Array.prototype;void 0==a[r]&&n("a8d0")(a,r,{}),t.exports=function(t){a[r][t]=!0}},"0514":function(t,e,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;function a(t){var e,n=""+t,a=r.exec(n);if(!a)return n;var o="",i=0,s=0;for(i=a.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==i&&(o+=n.substring(s,i)),s=i+1,o+=e}return s!==i?o+n.substring(s,i):o}t.exports=a},"053a":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"08bb":function(t,e,n){var r=n("1f39"),a=n("1462");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},1462:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1f39":function(t,e,n){var r=n("db4a"),a=n("1c96"),o=n("6b5c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},"27c0":function(t,e,n){var r=n("d83f"),a=n("c6bb"),o=n("8124");t.exports=function(t){return function(e,n,i){var s,u=r(e),c=a(u.length),l=o(i,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},2982:function(t,e,n){"use strict";var r=n("e313"),a=n("08bb"),o="includes";r(r.P+r.F*n("c9ce")(o),"String",{includes:function(t){return!!~a(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"356b":function(t,e,n){var r=n("1c96");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"60ae":function(t,e,n){"use strict";var r=n("e313"),a=n("27c0")(!0);r(r.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("02d4")("includes")},7474:function(t,e,n){var r=n("053a");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,a){return t.call(e,n,r,a)}}return function(){return t.apply(e,arguments)}}},8124:function(t,e,n){var r=n("c78e"),a=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?a(t+e,0):o(t,e)}},c6bb:function(t,e,n){var r=n("c78e"),a=Math.min;t.exports=function(t){return t>0?a(r(t),9007199254740991):0}},c78e:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},c929:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:t.actionAddress,method:"post",target:"_blank"}},[n("input",{attrs:{name:"billStmt",type:"hidden"},domProps:{value:t.xmlData}}),n("input",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowButton,expression:"this.shouldShowButton"}],staticClass:"button external",style:t.buttonStyle,attrs:{type:"submit"},domProps:{value:this.$props.slots.text}})])},a=[],o=n("f577"),i=n("a4bb"),s=n.n(i),u=n("cf8a"),c=n("0514"),l=n.n(c),p=function(t){if(console.log("generate billing xml",t),s()(t).length<1)return"";var e=Object(u["format"])(new Date,"YYYY-MM-DDTHH:mm:ssZ"),n='<?xml version="1.0" encoding="utf-16"?>\n<BillingStatement xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\n  <AccountNumber />\n  <BillNumber>'.concat(t.balances.accountNum,"</BillNumber>\n  <StatementNumber />\n  <BillingDate>").concat(e,"</BillingDate>\n  <DueDate>").concat(e,"</DueDate>\n  <TotalDue>").concat(t.totalDue,"</TotalDue>\n  <DepartMentId>0</DepartMentId>\n  <Fund>0</Fund>\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\n  <Quantity>0</Quantity>\n  <ItemAmount>0</ItemAmount>\n  <TotalAmountdue>0</TotalAmountdue>\n  <PartialPaymentFlag>false</PartialPaymentFlag>\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\n  <Details>\n    <BillingStatementDetail>\n      <ItemDate>").concat(e,"</ItemDate>\n      <ItemDescription>Real Estate Tax</ItemDescription>\n      <Charges>").concat(t.totalDue,"</Charges>\n      <Credits>0</Credits>\n    </BillingStatementDetail>\n  </Details>\n  <Customers>\n    <Customer>\n      <FirstName>").concat(t.balances.property.ownerName,"</FirstName>\n      <MiddleName />\n      <LastName />\n      <BillingAddress>\n        <Address>\n          <AddressLine1>").concat(t.address.streetAddress,"</AddressLine1>\n          <City>PHILADELPHIA</City>\n          <State>PA</State>\n          <PostalCode>").concat(t.address.zipCode,"</PostalCode>\n          <Country>US</Country>\n        </Address>\n      </BillingAddress>\n    </Customer>\n  </Customers>\n</BillingStatement>\n  ");return l()(n)},f=["principal","interest","penalty","other"],d={mixins:[o["a"]],data:function(){var t={parseData:{accountNum:this.$store.state.sources.tips.data.data.accountNum,totalDue:"",balances:this.$store.state.sources.tips.data.data,address:{streetAddress:this.$store.state.sources.tips.data.data.property.address,zipCode:this.$store.state.geocode.data.properties.zip_code}},xmlData:{},buttonStyle:"height: "+this.$props.options.height+"px;       width: "+this.$props.options.width+"px;       font-size: "+this.$props.options.fontSize+"px;       ",actionAddress:this.$props.options.actionAddress||"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx"};return t},created:function(){this.parseData.totalDue=this.calculateTotalDue(),this.$store.commit("setPropertyBalance",this.parseData.totalDue),this.xmlData=p(this.parseData)},computed:{message:function(){if(this.$props.slots)return this.evaluateSlot(this.$props.slots.text)},class:function(){if(this.$props.options)return this.$props.options.class||""},style:function(){if(this.$props.options)return this.$props.options.style||""},shouldShowButton:function(){return this.parseData.totalDue>0}},methods:{calculateTotalDue:function(){var t=this;return this.parseData.balances.years.reduce(function(e,n){var r=t.calculateTotalForYear(n);return e+r},0)},calculateTotalForYear:function(t){var e=f.map(function(e){return t[e]});return e.reduce(function(t,e){return t+e},0)}}},h=d,m=n("2877"),v=Object(m["a"])(h,r,a,!1,null,"d8329984",null);e["default"]=v.exports},c9ce:function(t,e,n){var r=n("6b5c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(a){}}return!0}},d83f:function(t,e,n){var r=n("356b"),a=n("1462");t.exports=function(t){return r(a(t))}},e313:function(t,e,n){var r=n("66c3"),a=n("de04"),o=n("a8d0"),i=n("fd55"),s=n("7474"),u="prototype",c=function(t,e,n){var l,p,f,d,h=t&c.F,m=t&c.G,v=t&c.S,b=t&c.P,g=t&c.B,y=m?r:v?r[e]||(r[e]={}):(r[e]||{})[u],x=m?a:a[e]||(a[e]={}),D=x[u]||(x[u]={});for(l in m&&(n=e),n)p=!h&&y&&void 0!==y[l],f=(p?y:n)[l],d=g&&p?s(f,r):b&&"function"==typeof f?s(Function.call,f):f,y&&i(y,l,f,t&c.U),x[l]!=f&&o(x,l,d),b&&D[l]!=f&&(D[l]=f)};r.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},f577:function(t,e,n){"use strict";n("60ae"),n("2982");var r,a,o=n("a4bb"),i=n.n(o),s=n("5d73"),u=n.n(s),c=n("7618"),l={props:{slots:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},beforeCreate:function(){},created:function(){},computed:{nullValue:function(){var t=this.options||{};return t.nullValue}},methods:{evaluateSlot:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return t;var a,o=Object(c["a"])(t);if("function"===o){var s=this.$store.state,l=this.$controller,p=t,f=this.item;a=f?p(s,f,l):p(s)}else a=t;if(!1===a);else if(!a)return r;var d=!0,h=!1,m=void 0;try{for(var v,b=function(){var t=v.value,n=e.$config.transforms[t],r=void 0,o=n.globals;o&&(r=i()(window).filter(function(t){return o.includes(t)}).reduce(function(t,e){return t[e]=window[e],t},{}));var s=n.transform;a=s(a,r)},g=u()(n);!(d=(v=g.next()).done);d=!0)b()}catch(y){h=!0,m=y}finally{try{d||null==g.return||g.return()}finally{if(h)throw m}}return a}}},p=l,f=n("2877"),d=Object(f["a"])(p,r,a,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=tcg_pvc_ePayForm.1f41bc80.js.map