(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmb_MapPanelLoader"],{"00ba":function(t,e,n){},"00fd":function(t,e,n){var r=n("9e69"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;function l(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}t.exports=l},"01b4":function(t,e,n){},"0293":function(t,e,n){var r=n("241e"),o=n("53e2");n("ce7e")("getPrototypeOf",function(){return function(t){return o(r(t))}})},"03dd":function(t,e,n){var r=n("eac5"),o=n("57a5"),i=Object.prototype,a=i.hasOwnProperty;function s(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=s},"061b":function(t,e,n){t.exports=n("fa99")},"06db":function(t,e,n){"use strict";var r=n("23c6"),o={};o[n("2b4c")("toStringTag")]="z",o+""!="[object z]"&&n("2aba")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"07c7":function(t,e){function n(){return!1}t.exports=n},"0b07":function(t,e,n){var r=n("34ac"),o=n("3698");function i(t,e){var n=o(t,e);return r(n)?n:void 0}t.exports=i},"0c70":function(t,e,n){"use strict";var r=n("38d6"),o=n.n(r);o.a},"0d24":function(t,e,n){(function(t){var r=n("2b3e"),o=n("07c7"),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||o;t.exports=u}).call(this,n("62e4")(t))},"0eb8":function(t,e,n){"use strict";var r=n("78fb"),o=n.n(r);o.a},"100e":function(t,e,n){var r=n("cd9d"),o=n("2286"),i=n("c1c9");function a(t,e){return i(o(t,e,r),t+"")}t.exports=a},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},1368:function(t,e,n){var r=n("da03"),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function i(t){return!!o&&o in t}t.exports=i},"13c8":function(t,e,n){var r=n("c3a1"),o=n("36c3"),i=n("355d").f;t.exports=function(t){return function(e){var n,a=o(e),s=r(a),l=s.length,c=0,u=[];while(l>c)i.call(a,n=s[c++])&&u.push(t?[n,a[n]]:a[n]);return u}}},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1df8":function(t,e,n){var r=n("63b6");r(r.S,"Object",{setPrototypeOf:n("ead6").set})},2286:function(t,e,n){var r=n("85e3"),o=Math.max;function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){var i=arguments,a=-1,s=o(i.length-e,0),l=Array(s);while(++a<s)l[a]=i[e+a];a=-1;var c=Array(e+1);while(++a<e)c[a]=i[a];return c[e]=n(l),r(t,this,c)}}t.exports=i},"253c":function(t,e,n){var r=n("3729"),o=n("1310"),i="[object Arguments]";function a(t){return o(t)&&r(t)==i}t.exports=a},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"266a":function(t,e,n){var r=n("7948");function o(t,e){return r(e,function(e){return t[e]})}t.exports=o},"29f3":function(t,e){var n=Object.prototype,r=n.toString;function o(t){return r.call(t)}t.exports=o},"2b3e":function(t,e,n){var r=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},"2dcb":function(t,e,n){var r=n("91e9"),o=r(Object.getPrototypeOf,Object);t.exports=o},"2ec1":function(t,e,n){var r=n("100e"),o=n("9aff");function i(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);while(++r<i){var l=n[r];l&&t(e,l,r,a)}return e})}t.exports=i},"308d":function(t,e,n){"use strict";var r=n("7618");function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?o(t):e}n.d(e,"a",function(){return i})},"30c9":function(t,e,n){var r=n("9520"),o=n("b218");function i(t){return null!=t&&o(t.length)&&!r(t)}t.exports=i},"32b3":function(t,e,n){var r=n("872a"),o=n("9638"),i=Object.prototype,a=i.hasOwnProperty;function s(t,e,n){var i=t[e];a.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}t.exports=s},"34ac":function(t,e,n){var r=n("9520"),o=n("1368"),i=n("1a8c"),a=n("dc57"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(t){if(!i(t)||o(t))return!1;var e=r(t)?p:l;return e.test(a(t))}t.exports=f},3698:function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},3729:function(t,e,n){var r=n("9e69"),o=n("00fd"),i=n("29f3"),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;function c(t){return null==t?void 0===t?s:a:l&&l in Object(t)?o(t):i(t)}t.exports=c},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"38d6":function(t,e,n){},"38f3":function(t,e,n){"use strict";var r=n("90b2"),o=n.n(r);o.a},"3b4a":function(t,e,n){var r=n("0b07"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},"3eda":function(t,e,n){var r=n("3729"),o=n("1310"),i=n("60ed"),a="[object DOMException]",s="[object Error]";function l(t){if(!o(t))return!1;var e=r(t);return e==s||e==a||"string"==typeof t.message&&"string"==typeof t.name&&!i(t)}t.exports=l},"41c3":function(t,e,n){var r=n("1a8c"),o=n("eac5"),i=n("ec8c"),a=Object.prototype,s=a.hasOwnProperty;function l(t){if(!r(t))return i(t);var e=o(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}t.exports=l},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"4aa6":function(t,e,n){t.exports=n("dc62")},"4bd1":function(t,e,n){"use strict";var r=n("94a1"),o=n.n(r);o.a},"4d16":function(t,e,n){t.exports=n("25b0")},"4def":function(t,e,n){var r=n("fe40"),o=n("76dd"),i=/[&<>"']/g,a=RegExp(i.source);function s(t){return t=o(t),t&&a.test(t)?t.replace(i,r):t}t.exports=s},"4e2b":function(t,e,n){"use strict";var r=n("4aa6"),o=n.n(r),i=n("4d16"),a=n.n(i);function s(t,e){return s=a.a||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=o()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}n.d(e,"a",function(){return l})},"50d8":function(t,e){function n(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}t.exports=n},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},5226:function(t,e){var n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function r(t){return"\\"+n[t]}t.exports=r},"54c6":function(t,e){var n=/<%([\s\S]+?)%>/g;t.exports=n},"57a5":function(t,e,n){var r=n("91e9"),o=r(Object.keys,Object);t.exports=o},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"5ea3":function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=n}).call(this,n("c8ba"))},"60ed":function(t,e,n){var r=n("3729"),o=n("2dcb"),i=n("1310"),a="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);function h(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}t.exports=h},"66a9":function(t,e,n){var r=n("4def"),o=n("c276"),i=n("54c6"),a=n("eff0"),s={escape:o,evaluate:i,interpolate:a,variable:"",imports:{_:{escape:r}}};t.exports=s},6747:function(t,e){var n=Array.isArray;t.exports=n},"6a64":function(t,e,n){},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),o=n("0bfb"),i=n("9e1e"),a="toString",s=/./[a],l=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):s.name!=a&&l(function(){return s.call(this)})},"6bb5":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("061b"),o=n.n(r),i=n("4d16"),a=n.n(i);function s(t){return s=a.a?o.a:function(t){return t.__proto__||o()(t)},s(t)}},"6fcd":function(t,e,n){var r=n("50d8"),o=n("d370"),i=n("6747"),a=n("0d24"),s=n("c098"),l=n("73ac"),c=Object.prototype,u=c.hasOwnProperty;function d(t,e){var n=i(t),c=!n&&o(t),d=!n&&!c&&a(t),h=!n&&!c&&!d&&l(t),p=n||c||d||h,f=p?r(t.length,String):[],m=f.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}t.exports=d},"72f0":function(t,e){function n(t){return function(){return t}}t.exports=n},"73ac":function(t,e,n){var r=n("743f"),o=n("b047"),i=n("99d3"),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},"743f":function(t,e,n){var r=n("3729"),o=n("b218"),i=n("1310"),a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",$="[object Float64Array]",k="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",M="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]",T={};function E(t){return i(t)&&o(t.length)&&!!T[r(t)]}T[C]=T[$]=T[k]=T[w]=T[x]=T[M]=T[j]=T[S]=T[O]=!0,T[a]=T[s]=T[b]=T[l]=T[_]=T[c]=T[u]=T[d]=T[h]=T[p]=T[f]=T[m]=T[g]=T[v]=T[y]=!1,t.exports=E},"768b":function(t,e,n){"use strict";var r=n("a745"),o=n.n(r);function i(t){if(o()(t))return t}var a=n("5d73"),s=n.n(a);function l(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=s()(t);!(r=(a=l.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw i}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,e){return i(t)||l(t,e)||c()}n.d(e,"a",function(){return u})},"76b3":function(t,e,n){"use strict";function r(t,e,n){const r=Object.keys(n).filter(t=>{return t.startsWith("l-")}).map(t=>t.slice(2));for(let o of r){const n="l-"+o;e.on(o,e=>{t.$emit(n,e)})}}e["a"]=r},"76dd":function(t,e,n){var r=n("ce86");function o(t){return null==t?"":r(t)}t.exports=o},"78fb":function(t,e,n){},7948:function(t,e){function n(t,e){var n=-1,r=null==t?0:t.length,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}t.exports=n},"7d6d":function(t,e,n){var r=n("63b6"),o=n("13c8")(!1);r(r.S,"Object",{values:function(t){return o(t)}})},"7e02":function(t,e,n){"use strict";var r=n("00ba"),o=n.n(r);o.a},"83ae":function(t,e,n){},"84ae":function(t,e,n){!function(e,r){t.exports=r(n("e11e"),n("e747"),n("8919"),n("ef03"))}(0,function(t,e,n,r){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var o={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:3.86102e-7,display:"sqmiles",decimals:2}};function i(t){if(t)return t.setAttribute("style","display:none;"),t}function a(t){if(t)return t.removeAttribute("style"),t}function s(r){r[r.length-1];var o=r.map(function(t){return[t.lat,t.lng]}),i=new t.Polyline(o),a=new t.Polygon(o);return{length:1e3*e(i.toGeoJSON(),{units:"kilometers"}),area:n(a.toGeoJSON())}}var l={activeColor:"#ABE67E",completedColor:"#C8F2BE"},c=function(t){this._options=L.extend({},l,this._options,t)};c.prototype.getSymbol=function(t){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[t]};var u=function(t,e){return e||(e=document),e.querySelector(t)};function d(t){return t.toLocaleString()}var h={imports:{numberFormat:d},interpolate:/{{([\s\S]+?)}}/g},p=r('<a class="{{ model.className }}-toggle js-toggle" href="#" title="Measure distances and areas">Measure</a>\r\n<div class="{{ model.className }}-interaction js-interaction">\r\n  <div class="js-startprompt startprompt">\r\n    <h3>Measure distances and areas</h3>\r\n    <ul class="tasks">\r\n      <a href="#" class="js-start start">Create a new measurement</a>\r\n    </ul>\r\n  </div>\r\n  <div class="js-measuringprompt">\r\n    <h3>Measure distances and areas</h3>\r\n    <p class="js-starthelp">Start creating a measurement by adding points to the map</p>\r\n    <div class="js-results results"></div>\r\n    <ul class="js-measuretasks tasks">\r\n      <li><a href="#" class="js-cancel cancel">Cancel</a></li>\r\n      <li><a href="#" class="js-undo undo">Undo</a></li>\r\n      <li><a href="#" class="js-finish finish">Finish measurement</a></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n',h),f=r('<% if (model.pointCount > 0) { %>\r\n  <div class="group">\r\n      <table>\r\n        <tr>\r\n          <th style="padding-left:5px; padding-right:5px">Lat</th>\r\n          <th style="padding-left:5px; padding-right:5px">Lon</th>\r\n          <th style="padding-left:5px; padding-right:5px">Length (ft)</th>\r\n        </tr><tr>\r\n\r\n          <% for (i=0; i < model.points.length; i++) { %>\r\n            </tr><tr>\r\n              <td>\r\n                {{ numberFormat(model.points[i].lat, 6) }}\r\n              </td>\r\n              <td>\r\n                {{ numberFormat(model.points[i].lng, 6) }}\r\n              </td>\r\n              <td>\r\n                {{ model.lengths[i-1] }}\r\n              </td>\r\n            </tr>\r\n          <% } %>\r\n\r\n      </table>\r\n  </div>\r\n<% } %>\r\n\r\n<% if (model.pointCount > 1) { %>\r\n<div class="group">\r\n  <p><span class="heading"></span>Total Distance: {{ model.lengthDisplay }} Feet</p>\r\n</div>\r\n<% } %>\r\n<% if (model.pointCount > 2) { %>\r\n<div class="group">\r\n  <p><span class="heading"></span>Area: {{ model.areaDisplay }} Sq Feet</p>\r\n</div>\r\n<% } %>\r\n',h),m=r('<h3>Point location</h3>\r\n<table>\r\n  <tr>\r\n    <th style="padding-left:5px; padding-right:5px; text-align:center"><span class="heading">Lat</span></th>\r\n    <th style="padding-left:5px; padding-right:5px; text-align:center"><span class="heading">Lon</span></th>\r\n  </tr>\r\n  <tr>\r\n    <td style="padding-left:5px; padding-right:5px">\r\n      {{ numberFormat(model.lastCoord.dd.y, 6) }}\r\n    </td>\r\n    <td style="padding-left:5px; padding-right:5px">\r\n      {{ numberFormat(model.lastCoord.dd.x, 6) }}\r\n    </td>\r\n  </tr>\r\n</table>\r\n<ul class="tasks">\r\n  <li><a href="#" class="js-zoomto zoomto">Center on this location</a></li>\r\n  <li><a href="#" class="js-deletemarkup deletemarkup">Delete</a></li>\r\n</ul>\r\n',h),g=r('<h3>Linear measurement</h3>\r\n<p>{{ model.lengthDisplay }} Feet</p>\r\n<ul class="tasks">\r\n  <li><a href="#" class="js-zoomto zoomto">Center on this line</a></li>\r\n  <li><a href="#" class="js-deletemarkup deletemarkup">Delete</a></li>\r\n</ul>\r\n',h),v=r('<h3>Area measurement</h3>\r\n\r\n\r\n<% if (model.pointCount > 0) { %>\r\n  <p>\r\n    <table>\r\n      <tr>\r\n        <th style="padding-left:5px; padding-right:5px; text-align:center"><span class="heading">Lat</span></th>\r\n        <th style="padding-left:5px; padding-right:5px; text-align:center"><span class="heading">Lon</span></th>\r\n        <th style="padding-left:5px; padding-right:5px; text-align:center"><span class="heading">Length (ft)</span></th>\r\n      </tr>\r\n      <tr>\r\n        <% for (i=0; i < model.points.length; i++) { %>\r\n          </tr><tr>\r\n            <td>\r\n              {{ numberFormat(model.points[i].lat, 6) }}\r\n            </td>\r\n            <td>\r\n              {{ numberFormat(model.points[i].lng, 6) }}\r\n            </td>\r\n            <td>\r\n              {{ model.lengths[i-1] }}\r\n            </td>\r\n          </tr>\r\n        <% } %>\r\n      </table>\r\n  </p>\r\n<% } %>\r\n<p>Total Distance: {{ model.lengthDisplay }} Feet</p>\r\n<p>Area: {{ model.areaDisplay }} Sq Feet</p>\r\n<ul class="tasks">\r\n  <li><a href="#" class="js-zoomto zoomto">Center on this area</a></li>\r\n  <li><a href="#" class="js-deletemarkup deletemarkup">Delete</a></li>\r\n</ul>\r\n',h);return t.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",primaryAreaUnit:"sqfeet",activeColor:"#ABE67E",completedColor:"#74acbd",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(e){t.setOptions(this,e);var n=this.options,r=n.activeColor,i=n.completedColor;this._symbols=new c({activeColor:r,completedColor:i}),this.options.units=Object.assign({},o,this.options.units)},onAdd:function(e){return this._map=e,this._latlngs=[],this._lengths=[],this._lengthNotations=[],this._vertexCircleMarkers=[],this._measureFeatures=[],this._initLayout(),e.on("click",this._collapse,this),this._layer=t.layerGroup().addTo(e),this._container},onRemove:function(t){t.off("click",this._collapse,this),t.removeLayer(this._layer)},_initLayout:function(){var e=this._className,n=this._container=t.DomUtil.create("div",e+" leaflet-bar");n.innerHTML=p({model:{className:e}}),n.setAttribute("aria-haspopup",!0),t.DomEvent.disableClickPropagation(n),t.DomEvent.disableScrollPropagation(n);var r=this.$toggle=u(".js-toggle",n);this.$interaction=u(".js-interaction",n);var o=u(".js-start",n),i=u(".js-cancel",n),a=u(".js-undo",n),s=u(".js-finish",n);this.$startPrompt=u(".js-startprompt",n),this.$measuringPrompt=u(".js-measuringprompt",n),this.$startHelp=u(".js-starthelp",n),this.$results=u(".js-results",n),this.$measureTasks=u(".js-measuretasks",n),this._collapse(),this._updateMeasureNotStarted(),t.Browser.android||(t.DomEvent.on(n,"mouseenter",this._expand,this),t.DomEvent.on(n,"mouseleave",this._collapse,this)),t.DomEvent.on(r,"click",t.DomEvent.stop),t.Browser.touch?t.DomEvent.on(r,"click",this._expand,this):t.DomEvent.on(r,"focus",this._expand,this),t.DomEvent.on(o,"click",t.DomEvent.stop),t.DomEvent.on(o,"click",this._startMeasure,this),t.DomEvent.on(i,"click",t.DomEvent.stop),t.DomEvent.on(i,"click",this._finishMeasure,this),t.DomEvent.on(a,"click",t.DomEvent.stop),t.DomEvent.on(a,"click",this._undoMeasure,this),t.DomEvent.on(s,"click",t.DomEvent.stop),t.DomEvent.on(s,"click",this._handleMeasureDoubleClick,this)},_expand:function(){i(this.$toggle),a(this.$interaction)},_collapse:function(){this._locked||(i(this.$interaction),a(this.$toggle))},_updateMeasureNotStarted:function(){i(this.$startHelp),i(this.$results),i(this.$measureTasks),i(this.$measuringPrompt),a(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){i(this.$results),a(this.$startHelp),a(this.$measureTasks),i(this.$startPrompt),a(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){i(this.$startHelp),a(this.$results),a(this.$measureTasks),i(this.$startPrompt),a(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureLengths=t.featureGroup().addTo(this._layer),this._measureVertexes=t.featureGroup().addTo(this._layer),this._captureMarker=t.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),t.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_undoMeasure:function(){this._latlngs=this._latlngs.slice(0,-1),this._removeLastLengthNotation(),this._removeLastVertex(),this._latlngs.length>0&&(this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._updateResults()),0===this._latlngs.length&&this._updateMeasureStartedNoPoints()},_finishMeasure:function(e){var n;n=!0!==e;var r=Object.assign({},this._resultsModel,{points:this._latlngs});this._locked=!1,t.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(n),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",r,!1)},_clearMeasure:function(t){this._latlngs=[],this._resultsModel=null,t&&this._measureLengths.clearLayers(),this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(t.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(t){var e=this.options.units;return{lengthDisplay:n(t.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:n(t.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)};function n(t,n,o,i,a){var s;return n&&e[n]?(s=r(t,e[n],i,a),s=o&&e[o]?s+" ("+r(t,e[o],i,a)+")":r(t,null,i,a),s):r(t,null,i,a)}function r(t,e,n,r){var o=e.display;return[formattedNumber,{acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles"}[o]||o].join(" ")}},_getShorterMeasurementDisplayStrings:function(t){var e=this.options.units;return{lengthDisplay:n(t.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,".",this.options.thousandsSep),areaDisplay:n(t.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)};function n(t,n,o,i,a){var s;return n?(s=r(t,e[n],i,a),o&&e[o]&&(s=s+" ("+r(t,e[o],i,a)+")")):s=r(t,null,i,a),s}function r(t,e,n,r){var o=Object.assign({factor:1,decimals:2},e);return d(t*o.factor,o.decimals)}},_updateResults:function(){var t=s(this._latlngs),e=this._resultsModel=Object.assign({},t,this._getShorterMeasurementDisplayStrings(t),{pointCount:this._latlngs.length,points:this._latlngs,lengths:this._lengths});this.$results.innerHTML=f({model:e})},_handleMeasureMove:function(e){this._measureDrag?this._measureDrag.setLatLng(e.latlng):this._measureDrag=t.circleMarker(e.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var e=this._latlngs,n=t.layerGroup();n.addTo(this._layer),this._measureFeatures.push(n),this._measureLengths.removeFrom(this._layer),this._measureLengths.addTo(n),this._finishMeasure(!0);for(var r=[],o=0;o<this._lengths.length;o++)r[o]=this._lengths[o];if(e.length){if(e.length>2){e.push((e||[])[0]);var i=e.length,a=e[i-2],l=e[i-1],c=t.latLngBounds(a,l).getCenter(),d=s([a,l]);this._addNewLengthNotation(c,d).addTo(this._measureLengths);var h=this._lengths.length;r[h-1]=this._lengths[h-1]}var p,f,y,b,_,C=s(e);if(1===e.length)p=t.circleMarker(e[0],this._symbols.getSymbol("resultPoint")),f=m({model:C});else if(2===e.length)p=t.polyline(e,this._symbols.getSymbol("resultLine")),f=g({model:Object.assign({},C,this._getShorterMeasurementDisplayStrings(C))});else{p=t.polygon(e,this._symbols.getSymbol("resultArea"));var $=Object.assign({},C,this._getShorterMeasurementDisplayStrings(C),{pointCount:e.length,points:e,lengths:this._lengths});f=v({model:$})}this._lengths=[],this._vertexCircleMarkers=[],(y=t.DomUtil.create("div","")).innerHTML=f,(b=u(".js-zoomto",y))&&(t.DomEvent.on(b,"click",t.DomEvent.stop),t.DomEvent.on(b,"click",function(){p.getBounds?this._map.fitBounds(p.getBounds(),{padding:[20,20],maxZoom:17}):p.getLatLng&&this._map.panTo(p.getLatLng())},this)),(_=u(".js-deletemarkup",y))&&(t.DomEvent.on(_,"click",t.DomEvent.stop),t.DomEvent.on(_,"click",function(){var t=this._measureFeatures.indexOf(n);this._measureFeatures[t].removeFrom(this._layer)},this)),p.addTo(n),p.bindPopup(y,this.options.popupOptions),p.getBounds?p.openPopup(p.getBounds().getCenter()):p.getLatLng&&p.openPopup(p.getLatLng())}},_handleMeasureClick:function(e){var n=this._map.mouseEventToLatLng(e.originalEvent),r=(this._latlngs||[]).slice(-1)[0],o=(this._latlngs||[])[0],i=this._symbols.getSymbol("measureVertex");if(!r||!n.equals(r)){if(this._latlngs.push(n),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(t){t.setStyle(i),t._path&&t._path.setAttribute("class",i.className)}),this._addNewVertex(n),o){var a=this._latlngs.length,l=this._latlngs[a-2],c=t.latLngBounds(l,n).getCenter(),u=s([l,n]);this._addNewLengthNotation(c,u).addTo(this._measureLengths)}this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()}this._updateResults(),this._updateMeasureStartedWithPoints()},_addNewLengthNotation:function(e,n){var r=this._getShorterMeasurementDisplayStrings(n),o=t.divIcon({className:"my-div-icon",html:r.lengthDisplay}),i=t.marker(e,{icon:o});return this._lengths.push(r.lengthDisplay),this._lengthNotations.push(i),i},_removeLastLengthNotation:function(){var t=this._lengthNotations.length;this._lengthNotations.length>0&&this._lengthNotations[t-1].removeFrom(this._measureLengths),this._lengthNotations=this._lengthNotations.slice(0,-1),this._lengths=this._lengths.slice(0,-1)},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(e){var n=t.circleMarker(e,this._symbols.getSymbol("measureVertexActive"));this._vertexCircleMarkers.push(n),n.addTo(this._measureVertexes)},_removeLastVertex:function(){var t=this._vertexCircleMarkers.length;this._vertexCircleMarkers.length>0&&this._vertexCircleMarkers[t-1].removeFrom(this._measureVertexes),this._vertexCircleMarkers=this._vertexCircleMarkers.slice(0,-1)},_addMeasureArea:function(e){e.length<3?this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null):this._measureArea?this._measureArea.setLatLngs(e):this._measureArea=t.polygon(e,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(e){e.length<2?this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null):this._measureBoundary?this._measureBoundary.setLatLngs(e):this._measureBoundary=t.polyline(e,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}})})},"85b1":function(t,e,n){"use strict";function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var o=r,i=n("5ea3"),a="object"==typeof self&&self&&self.Object===Object&&self,s=i["a"]||a||Function("return this")(),l=s,c=function(){return l.Date.now()},u=c,d=l.Symbol,h=d,p=Object.prototype,f=p.hasOwnProperty,m=p.toString,g=h?h.toStringTag:void 0;function v(t){var e=f.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(i){}var o=m.call(t);return r&&(e?t[g]=n:delete t[g]),o}var y=v,b=Object.prototype,_=b.toString;function C(t){return _.call(t)}var $=C,k="[object Null]",w="[object Undefined]",x=h?h.toStringTag:void 0;function M(t){return null==t?void 0===t?w:k:x&&x in Object(t)?y(t):$(t)}var j=M;function S(t){return null!=t&&"object"==typeof t}var O=S,T="[object Symbol]";function E(t){return"symbol"==typeof t||O(t)&&j(t)==T}var F=E,I=NaN,L=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,D=/^0o[0-7]+$/i,B=parseInt;function z(t){if("number"==typeof t)return t;if(F(t))return I;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(L,"");var n=A.test(t);return n||D.test(t)?B(t.slice(2),n?2:8):P.test(t)?I:+t}var N=z,R="Expected a function",G=Math.max,U=Math.min;function V(t,e,n){var r,i,a,s,l,c,d=0,h=!1,p=!1,f=!0;if("function"!=typeof t)throw new TypeError(R);function m(e){var n=r,o=i;return r=i=void 0,d=e,s=t.apply(o,n),s}function g(t){return d=t,l=setTimeout(b,e),h?m(t):s}function v(t){var n=t-c,r=t-d,o=e-n;return p?U(o,a-r):o}function y(t){var n=t-c,r=t-d;return void 0===c||n>=e||n<0||p&&r>=a}function b(){var t=u();if(y(t))return _(t);l=setTimeout(b,v(t))}function _(t){return l=void 0,f&&r?m(t):(r=i=void 0,s)}function C(){void 0!==l&&clearTimeout(l),d=0,r=c=i=l=void 0}function $(){return void 0===l?s:_(u())}function k(){var t=u(),n=y(t);if(r=arguments,i=this,c=t,n){if(void 0===l)return g(c);if(p)return l=setTimeout(b,e),m(c)}return void 0===l&&(l=setTimeout(b,e)),s}return e=N(e)||0,o(n)&&(h=!!n.leading,p="maxWait"in n,a=p?G(N(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),k.cancel=C,k.flush=$,k}e["a"]=V},"85e3":function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},"85f2":function(t,e,n){t.exports=n("454f")},"872a":function(t,e,n){var r=n("3b4a");function o(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}t.exports=o},"8eeb":function(t,e,n){var r=n("32b3"),o=n("872a");function i(t,e,n,i){var a=!n;n||(n={});var s=-1,l=e.length;while(++s<l){var c=e[s],u=i?i(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),a?o(n,c,u):r(n,c,u)}return n}t.exports=i},"90b2":function(t,e,n){},"91e9":function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},9306:function(t,e,n){"use strict";var r=n("c3a1"),o=n("9aa9"),i=n("355d"),a=n("241e"),s=n("335c"),l=Object.assign;t.exports=!l||n("294c")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r})?function(t,e){var n=a(t),l=arguments.length,c=1,u=o.f,d=i.f;while(l>c){var h,p=s(arguments[c++]),f=u?r(p).concat(u(p)):r(p),m=f.length,g=0;while(m>g)d.call(p,h=f[g++])&&(n[h]=p[h])}return n}:l},9331:function(t,e,n){"use strict";var r=n("83ae"),o=n.n(r);o.a},9427:function(t,e,n){var r=n("63b6");r(r.S,"Object",{create:n("a159")})},"94a1":function(t,e,n){},9520:function(t,e,n){var r=n("3729"),o=n("1a8c"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==l}t.exports=c},9638:function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},9740:function(t,e,n){var r=n("9638"),o=Object.prototype,i=o.hasOwnProperty;function a(t,e,n,a){return void 0===t||r(t,o[n])&&!i.call(a,n)?e:t}t.exports=a},9934:function(t,e,n){var r=n("6fcd"),o=n("41c3"),i=n("30c9");function a(t){return i(t)?r(t,!0):o(t)}t.exports=a},"99d3":function(t,e,n){(function(t){var r=n("585a"),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o,s=a&&r.process,l=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=l}).call(this,n("62e4")(t))},"9aff":function(t,e,n){var r=n("9638"),o=n("30c9"),i=n("c098"),a=n("1a8c");function s(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}t.exports=s},"9e1c":function(t,e,n){n("7d6d"),t.exports=n("584a").Object.values},"9e69":function(t,e,n){var r=n("2b3e"),o=r.Symbol;t.exports=o},"9ee1":function(t,e,n){},a3c3:function(t,e,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},a454:function(t,e,n){var r=n("72f0"),o=n("3b4a"),i=n("cd9d"),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},a745:function(t,e,n){t.exports=n("f410")},a8db:function(t,e,n){"use strict";var r=n("e265"),o=n.n(r),i=n("a4bb"),a=n.n(i);function s(t,e){if(null==t)return{};var n,r,o={},i=a()(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function l(t,e){if(null==t)return{};var n,r,i=s(t,e);if(o.a){var a=o()(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"a",function(){return l})},adaa:function(t,e,n){var r=n("85e3"),o=n("100e"),i=n("3eda"),a=o(function(t,e){try{return r(t,void 0,e)}catch(n){return i(n)?n:new Error(n)}});t.exports=a},b047:function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},b0b4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("85f2"),o=n.n(r);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},b218:function(t,e){var n=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}t.exports=r},bf85:function(t,e,n){"use strict";var r=n("6a64"),o=n.n(r);o.a},c098:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(t,e){var o=typeof t;return e=null==e?n:e,!!e&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=o},c1c9:function(t,e,n){var r=n("a454"),o=n("f3c1"),i=o(r);t.exports=i},c276:function(t,e){var n=/<%-([\s\S]+?)%>/g;t.exports=n},c30c:function(t,e,n){var r=n("8eeb"),o=n("2ec1"),i=n("9934"),a=o(function(t,e,n,o){r(e,i(e),t,o)});t.exports=a},cd9d:function(t,e){function n(t){return t}t.exports=n},ce86:function(t,e,n){var r=n("9e69"),o=n("7948"),i=n("6747"),a=n("ffd6"),s=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;function u(t){if("string"==typeof t)return t;if(i(t))return o(t,u)+"";if(a(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}t.exports=u},d225:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},d370:function(t,e,n){var r=n("253c"),o=n("1310"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},da03:function(t,e,n){var r=n("2b3e"),o=r["__core-js_shared__"];t.exports=o},db0c:function(t,e,n){t.exports=n("9e1c")},dc57:function(t,e){var n=Function.prototype,r=n.toString;function o(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=o},dc62:function(t,e,n){n("9427");var r=n("584a").Object;t.exports=function(t,e){return r.create(t,e)}},ddc6:function(t,e){function n(t){return function(e){return null==t?void 0:t[e]}}t.exports=n},e265:function(t,e,n){t.exports=n("ed33")},e747:function(t,e,n){"use strict";n.r(e);var r=n("4630"),o=n("7c8d"),i=n("cd1f");function a(t,e){if(e=e||{},!Object(i["e"])(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return Object(o["d"])(t,function(t,n){var o=n.geometry.coordinates;return t+Object(r["a"])(o[0],o[1],e)},0)}e["default"]=a},eac5:function(t,e){var n=Object.prototype;function r(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||n;return t===r}t.exports=r},ead6:function(t,e,n){var r=n("f772"),o=n("e4ae"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},ec69:function(t,e,n){var r=n("6fcd"),o=n("03dd"),i=n("30c9");function a(t){return i(t)?r(t):o(t)}t.exports=a},ec8c:function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},ee25:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:this.mapPanelContainerClass,attrs:{id:"map-panel-container"}},[t._m(0),n("map_",{class:{"mb-map-with-widget":this.$store.state.cyclomedia.active||this.$store.state.pictometry.active},attrs:{id:"map-tag",center:this.$store.state.map.center,zoom:this.$store.state.map.zoom,"zoom-control-position":"bottomright","min-zoom":this.$config.map.minZoom,"max-zoom":this.$config.map.maxZoom},on:{"l-click":t.handleMapClick,"l-moveend":t.handleMapMove}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isGeocoding,expression:"isGeocoding"}],staticClass:"mb-map-loading-mask"},[n("div",{staticClass:"mb-map-loading-mask-inner"},[n("i",{staticClass:"fa fa-spinner fa-4x spin"}),n("h1",[t._v("Finding address...")])])]),t._l(this.$config.map.basemaps,function(e,r){return t.activeBasemap===r?n("esri-tiled-map-layer",{key:r,attrs:{url:e.url,"max-zoom":e.maxZoom,attribution:e.attribution}}):t._e()}),t._l(this.$config.map.tiledLayers,function(e,r){return t.tiledLayers.includes(r)?n("esri-tiled-map-layer",{key:r,attrs:{url:e.url,zIndex:e.zIndex,attribution:e.attribution}}):t._e()}),t._l(this.$config.map.tiledOverlays,function(e,r){return t.activeTiledOverlays.includes(r)?n("esri-tiled-overlay",{key:r,attrs:{url:e.url,zIndex:e.zIndex,opacity:e.opacity}}):t._e()}),t._l(this.$config.map.dynamicMapLayers,function(e,r){return t.activeDynamicMaps.includes(r)?n("esri-dynamic-map-layer",{key:r,attrs:{url:e.url,attribution:e.attribution,transparent:!0,opacity:e.opacity}}):t._e()}),t._l(this.$config.map.featureLayers,function(e,r){return t.shouldShowFeatureLayer(r,e.minZoom)?n("esri-feature-layer",{key:r,attrs:{layerName:r,url:e.url,color:e.color,fillColor:e.color,fillOpacity:e.fillOpacity,weight:e.weight,style_:e.style,minZoom:e.minZoom,maxZoom:e.maxZoom,zIndex:e.zIndex,markerType:e.markerType,radius:e.radius,interactive:e.interactive}}):t._e()}),t._l(this.imageOverlayItems,function(e,r){return t.shouldShowImageOverlay(e.properties.RECMAP)?n("esri-dynamic-map-layer",{key:r,attrs:{url:"//gis-svc.databridge.phila.gov/arcgis/rest/services/Atlas/RegMaps/MapServer",layers:[0],layerDefs:"0:NAME='g"+e.properties.RECMAP.toLowerCase()+".tif'",transparent:!0,opacity:.5}}):t._e()}),t._l(t.markersForAddress,function(t,e){return n("vector-marker",{key:t.key,attrs:{latlng:t.latlng,markerColor:t.color,icon:t.icon}})}),t._l(t.markersForTopic,function(t,e){return n("vector-marker",{key:t.key,attrs:{latlng:t.latlng,markerColor:t.color,icon:t.icon}})}),this.cyclomediaActive?n("png-marker",{attrs:{icon:"images/camera.png",latlng:t.cycloLatlng,rotationAngle:t.cycloRotationAngle}}):t._e(),this.cyclomediaActive?n("svg-view-cone-marker",{attrs:{latlng:t.cycloLatlng,rotationAngle:t.cycloRotationAngle,hFov:t.cycloHFov}}):t._e(),t._l(t.geojsonParcels,function(e){return t.shouldShowGeojson(e.key)?n("geojson",{key:e.key,attrs:{geojson:e.geojson,fillColor:e.fillColor,color:e.color,weight:e.weight,opacity:e.opacity,fillOpacity:e.fillOpacity,data:{featureId:e.featureId,tableId:e.tableId}}}):t._e()}),t._l(t.geojsonForTopic,function(e){return t.shouldShowGeojson(e.key)?n("geojson",{key:e.key,attrs:{geojson:e.geojson,fillColor:e.fillColor,color:e.color,weight:e.weight,opacity:e.opacity,fillOpacity:e.fillOpacity,data:{featureId:e.featureId,tableId:e.tableId}}}):t._e()}),t._l(t.reactiveGeojsonFeatures,function(e){return t.shouldShowGeojson(e.key)?n("geojson",{key:e.key,attrs:{geojson:e.geojson,fillColor:e.fillColor,color:e.color,weight:e.weight,opacity:e.opacity,fillOpacity:e.fillOpacity,data:{featureId:e.featureId,tableId:e.tableId}},on:{"l-mouseover":t.handleMarkerMouseover,"l-click":t.handleMarkerClick,"l-mouseout":t.handleMarkerMouseout}}):t._e()}),null!=this.$store.state.map.location.lat?n("circle-marker",{key:Math.random(),attrs:{latlng:this.locationMarker.latlng,radius:this.locationMarker.radius,fillColor:this.locationMarker.fillColor,color:this.locationMarker.color,weight:this.locationMarker.weight,opacity:this.locationMarker.opacity,fillOpacity:this.locationMarker.fillOpacity}}):t._e(),t._l(t.reactiveCircleMarkers,function(e){return n("circle-marker",{key:Math.random(),attrs:{latlng:e.latlng,radius:e.radius,fillColor:e.fillColor,color:e.color,weight:e.weight,opacity:e.opacity,fillOpacity:e.fillOpacity,data:{featureId:e.featureId,tableId:e.tableId}},on:{"l-mouseover":t.handleMarkerMouseover,"l-click":t.handleMarkerClick,"l-mouseout":t.handleMarkerMouseout}})}),n("control-corner",{attrs:{vSide:"top",hSide:"almostright"}}),n("control-corner",{attrs:{vSide:"top",hSide:"almostleft"}}),t._m(2),t._m(3),t._m(5),t._m(7),this.measureControlEnabled?t._m(8):t._e(),t._m(9),t._m(11),t._m(12),this.addressAutocompleteEnabled?n("map-address-candidate-list",{attrs:{position:this.addressInputPosition,widthFromConfig:this.addressInputWidth}}):t._e(),t._l(t.cyclomediaRecordings,function(e){return t.cyclomediaActive?n("cyclomedia-recording-circle",{key:e.imageId,attrs:{imageId:e.imageId,latlng:[e.lat,e.lng],size:1.2,color:"#3388ff",weight:1},on:{"l-click":t.handleCyclomediaRecordingClick}}):t._e()})],2),t._t("cycloWidget"),t._t("pictWidget")],2)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("full-screen-map-toggle-tab")},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basemap-toggle-control",{attrs:{position:"topright"}})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.shouldShowImageryToggle?t._m(1):t._e()],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("basemap-select-control",{attrs:{position:this.basemapSelectControlPosition}})],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pictometry-button",{attrs:{position:"topright",link:"pictometry",imgSrc:"images/pictometry.png"}})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.shouldShowPictometryButton?t._m(4):t._e()],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("cyclomedia-button",{attrs:{position:"topright",link:"cyclomedia",imgSrc:"images/cyclomedia.png"},on:{click:t.handleCyclomediaButtonClick}})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.shouldShowCyclomediaButton?t._m(6):t._e()],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("measure-control",{attrs:{position:"bottomleft"}})],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(Object.keys(t.legendControls),function(e){return n("legend-control",{key:e,attrs:{position:"bottomleft",options:t.legendControls[e].options,items:t.legendControls[e].data}})}),1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("location-control",{attrs:{position:"bottomright"}})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.geolocationEnabled?t._m(10):t._e()],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("map-address-input",{attrs:{position:this.addressInputPosition,placeholder:this.addressInputPlaceholder,widthFromConfig:this.addressInputWidth}})],1)}],i=n("5d73"),a=n.n(i),s=(n("6762"),n("2fdb"),n("db0c")),l=n.n(s),c=n("e11e"),u=n.n(c),d={watch:{activeFeature(t,e){const n=this.$store.state.map.map._layers,r=Object.values(n);let o,i,a,s,l,c,u;e&&e.tableId&&e.featureId&&(o=e,a=o.tableId,s=o.featureId,u=r.filter(t=>{const e=t.options||{},n=e.data;if(!n)return;const r=n.featureId,o=n.tableId;return r===s&&o===a})[0],this.updateMarkerFillColor(u)),t&&t.tableId&&t.featureId&&(i=t,a=i.tableId,l=i.featureId,c=r.filter(t=>{const e=t.options||{},n=e.data;if(!n)return;const r=n.featureId,o=n.tableId;return r===l&&o===a})[0],this.updateMarkerFillColor(c),this.bringMarkerToFront(c))}},computed:{locationMarker(){const t=[this.$store.state.map.location.lat,this.$store.state.map.location.lng],e={latlng:t,radius:6,fillColor:"#ff3f3f",color:"#ff0000",weight:1,opacity:1,fillOpacity:1};return e},markersForAddress(){const t=[],e=this.geocodeGeom;if("address-marker"===this.identifyFeature&&e){const n=[...e.coordinates].reverse(),r=this.geocodeResult.properties.street_address,o="#2176d2",i="geocode",a={prefix:"fas",icon:"map-marker-alt",shadow:!0,size:50},s={latlng:n,key:r,color:o,markerType:i,icon:a};t.push(s)}return t},markersForTopic(){const t=[],e=this.activeTopicConfig.markersForTopic;if(e){const n=this.$store.state,r=e.data(n);if(null!==r){const n=[r[e.lat],r[e.lng]],o=r[e.key],i=e.color||"green",a="overlay",s=e.icon,l={latlng:n,key:o,color:i,markerType:a,icon:s};t.push(l)}}return t},reactiveCircleMarkers(){const t=this.$store.state.horizontalTables.filteredData;let e=[];const n=this.$store.getters.visibleTableIds;for(let r of n){const n=this.getConfigForTable(r)||{},o=(n.options||{}).mapOverlay;if(!o||"circle"!==o.marker)continue;const i=t[r];if(i.length<1)continue;const a=o.style;for(let t of i){let n;if(t.geometry){const[e,r]=t.geometry.coordinates;n=[r,e]}else t.lat&&(n=[t.lat,t.lng]);let o=Object.assign({},a);o.latlng=n,o.featureId=t._featureId,o.tableId=r,e.push(o)}}return e},geojsonParcels(){const t=[],e=this.identifyFeature,n=this.activeParcelLayer;if("pwd-parcel"===e&&"pwd"===n&&this.pwdParcel){let e={};e.geojson=this.pwdParcel,e.color="blue",e.fillColor="blue",e.weight=2,e.opacity=1,e.fillOpacity=.3,e.key=e.geojson.properties.PARCELID,t.push(e)}else if("dor-parcel"===e&&"dor"===n){const e=this.dorParcels.map(t=>{let e={};return e.geojson=t,e.color="blue",e.fillColor="blue",e.weight=2,e.opacity=1,e.fillOpacity=.3,e.key=t.properties.OBJECTID,e});t.push.apply(t,e)}return t},geojsonForTopic(){const t=[],e=this.activeTopicConfig.geojsonForTopic;if(e){const n=this.$store.state,r=e.data(n);if(null!==r)for(let o of r){let n=Object.assign({},e.style);n.key=o[e.key],n.geojson=o,t.push(n)}}return t},reactiveGeojsonFeatures(){const t=[],e=this.$store.state.horizontalTables.filteredData,n=this.$store.getters.visibleTableIds;for(let r of n){const n=this.getConfigForTable(r)||{},o=(n.options||{}).mapOverlay;if(!o||"geojson"!==o.marker)continue;const i=e[r];if(i.length<1)continue;const a=o.style;i.push(r);for(let e of i){let n=Object.assign({},a);n.geojson=e.geometry,n.key=e.id,n.featureId=e._featureId||null,n.tableId=i[i.length-1],t.push(n)}}return t},leafletMarkers(){const t=[];return t.push.apply(t,this.markers),t.push.apply(t,this.geojsonParcels),t}},methods:{getTableFromComps(t,e){const n=t.filter(t=>{return"horizontal-table"===t.type&&t._id==e})||[];return n[0]},getConfigForTable(t){const e=this.$config.topics||[];for(let n of e){const e=n.components||[],r=this.getTableFromComps(e,t);if(r)return r;for(let n of e){const e=n.options||{},r=e.components||e.tables||[];if(r.length>0){const e=this.getTableFromComps(r,t);if(e)return e}}}},bringMarkerToFront(t){const e=t._path,n=t._renderer._rootGroup;n.removeChild(e),n.appendChild(e)},handleMarkerMouseover(t){if(!this.isMobileOrTablet){const{target:e}=t,{featureId:n,tableId:r}=e.options.data;this.$store.commit("setActiveFeature",{featureId:n,tableId:r})}},handleMarkerClick(t){if(this.isMobileOrTablet){const{target:e}=t,{featureId:n,tableId:r}=e.options.data;this.$store.commit("setActiveFeature",{featureId:n,tableId:r})}},handleMarkerMouseout(t){const{target:e}=t;this.$store.commit("setActiveFeature",null)},updateMarkerFillColor(t){const{featureId:e,tableId:n}=t.options.data,r=this.fillColorForOverlayMarker(e,n),o=Object.assign({},t.options);o.fillColor=r,t.setStyle(o)}}},h={name:"cyclomediaMixin",computed:{cyclomediaActive(){return this.$store.state.cyclomedia.active},cyclomediaRecordings(){return this.$store.state.cyclomedia.recordings}},methods:{handleCyclomediaButtonClick(){this.updateCyclomediaRecordings()},handleCyclomediaRecordingClick(t){const e=t.latlng;console.log("handleCyclomediaRecordingClick is running, latlng:",e),this.$store.commit("setCyclomediaLatLngFromMap",e)},updateCyclomediaRecordings(){const t=this.$store.state.map.map,e=t.getZoom();if(!this.$store.state.cyclomedia.active||e<=18)return void this.$store.commit("setCyclomediaRecordings",[]);const n=t.getBounds();this.$cyclomediaRecordingsClient.getRecordings(n,t=>{this.$store.commit("setCyclomediaRecordings",t)})}}},p={name:"pictometryMixin",computed:{pictometryActive(){return this.$store.state.pictometry.active}}},f=n("bc3a"),m=n.n(f);class g{constructor(t,e,n,r=3857,o){this.baseUrl=t,this.username=e,this.password=n,this.srid=r,this.proxy=o}getRecordings(t,e){const n=t.getSouthWest(),r=t.getNorthEast(),o=`<wfs:GetFeature service="WFS" version="1.1.0" resultType="results" outputFormat="text/xml; subtype=gml/3.1.1" xmlns:wfs="http://www.opengis.net/wfs">\n\t\t\t\t\t\t\t\t\t\t\t<wfs:Query typeName="atlas:Recording" srsName="EPSG:${this.srid}" xmlns:atlas="http://www.cyclomedia.com/atlas">\n\t\t\t\t\t\t\t\t\t\t\t\t<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">\n\t\t\t\t\t\t    \t\t\t\t\t<ogc:And>\n\t\t\t\t\t\t      \t\t\t\t\t<ogc:BBOX>\n\t\t\t\t\t\t\t\t\t\t\t        <gml:Envelope srsName="EPSG:${this.srid}" xmlns:gml="http://www.opengis.net/gml">\n\t\t\t\t\t\t\t\t\t\t\t          <gml:lowerCorner>${n.lng} ${n.lat}</gml:lowerCorner>\n\t\t\t\t\t\t\t\t\t\t\t          <gml:upperCorner>${r.lng} ${r.lat}</gml:upperCorner>\n\t\t\t\t\t\t\t\t\t\t\t        </gml:Envelope>\n\t\t\t\t\t\t\t\t\t\t\t      </ogc:BBOX>\n\t\t\t\t\t\t\t\t\t\t\t      <ogc:PropertyIsNull>\n\t\t\t\t\t\t\t\t\t\t\t        <ogc:PropertyName>expiredAt</ogc:PropertyName>\n\t\t\t\t\t\t\t\t\t\t\t      </ogc:PropertyIsNull>\n\t\t\t\t\t\t\t\t\t\t\t    </ogc:And>\n\t\t\t\t\t\t\t\t\t\t\t  </ogc:Filter>\n\t\t\t\t\t\t\t\t\t\t\t </wfs:Query>\n\t\t\t\t\t\t\t\t\t\t\t</wfs:GetFeature>`,i=(this.proxy||"")+this.baseUrl,a={"Content-Type":"text/xml",Authorization:"Basic "+window.btoa(this.username+":"+this.password)};m.a.post(i,o,{headers:a}).then(t=>{let n=t.data;function r(t){return(new window.DOMParser).parseFromString(t,"text/xml")}n=r(n);const o=n.getElementsByTagNameNS("*","Recording"),i=[].slice.call(o);if(i.length<1)return void console.log("no cyclomedia recordings for bounds");const a=i.map(t=>{const e=t.getElementsByTagNameNS("*","imageId")[0].firstChild.data,n=t.getElementsByTagNameNS("*","pos")[0].firstChild.data,[r,o]=n.split(" ").map(parseFloat);return{imageId:e,lng:r,lat:o}});e(a)})}}var v,y,b,_,C=g,$={name:"ControlCorner",props:["vSide","hSide"],render:function(t){},methods:{parentMounted:function(t){var e=t.$leafletElement;e._controlCorners[this.vSide+this.hSide]=c["DomUtil"].create("div","leaflet-"+this.vSide+" leaflet-"+this.hSide,e._controlContainer)}}},k=$,w=(n("9331"),n("2877")),x=Object(w["a"])(k,v,y,!1,null,null,null),M=x.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.isMobileOrTablet?t._e():n("div",{staticClass:"toggle-tab",style:{top:t.buttonPosition},attrs:{id:"toggle-tab"},on:{click:t.handleFullScreenMapToggleButtonClick}},[n("span",{staticClass:"align-span"},[n("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:this.currentIcon}})],1)])},S=[],O={name:"FullScreenMapToggleTab",data:function(){return{buttonPosition:0}},mounted:function(){this.setDivHeight(this.windowDim)},watch:{picOrCycloActive:function(t){this.setDivHeight(this.windowDim)},fullScreenTopicsEnabled:function(){this.setDivHeight(this.windowDim)},windowDim:function(t){this.setDivHeight(t)}},computed:{windowDim:function(){return this.$store.state.windowDimensions},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},fullScreenTopicsEnabled:function(){return this.$store.state.fullScreenTopicsEnabled},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},pictometryActive:function(){return this.$store.state.pictometry.active},picOrCycloActive:function(){return!(!this.cyclomediaActive&&!this.pictometryActive)},currentIcon:function(){return this.fullScreenMapEnabled?"caret-right":"caret-left"}},methods:{setDivHeight:function(t){this.picOrCycloActive?this.buttonPosition=(t.height-48)/4+"px":this.buttonPosition=(t.height-48)/2+"px"},handleFullScreenMapToggleButtonClick:function(t){var e=this.$store.state.fullScreenMapEnabled,n=!e;this.$store.commit("setFullScreenMapEnabled",n)}}},T=O,E=(n("0c70"),Object(w["a"])(T,j,S,!1,null,"ebd9c69e",null)),F=E.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:this.mapContainerClass},[n("div",{ref:"map",staticClass:"map",attrs:{id:"map"}},[n("div",[t._t("default")],2)])])},L=[],P=n("768b"),A=n("a8db"),D=n("76b3"),B={name:"Map_",props:["center","zoom","zoomControlPosition","minZoom","maxZoom"],mounted:function(){var t=this.$leafletElement=this.createLeafletElement();t.zoomControl.setPosition(this.$props.zoomControlPosition),this.$store.commit("setMap",{map:t}),this.setMapView(this.center),this.$nextTick(function(){t.attributionControl.setPrefix('<a target="_blank" href="//www.phila.gov/it/aboutus/units/Pages/GISServicesGroup.aspx">City of Philadelphia | CityGeo</a>')});var e=!0,n=!1,r=void 0;try{for(var o,i=a()(this.$children);!(e=(o=i.next()).done);e=!0){var s=o.value;s.parentMounted(this,s.$props)}}catch(l){n=!0,r=l}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}Object(D["a"])(this,this.$leafletElement,this._events),this.$config.map.clickToIdentifyFeatures&&t.on("click",this.identifyFeatures)},watch:{center:function(t){this.setMapView(t)},zoom:function(t){t&&(this.$leafletElement.setZoom(t),this.$store.commit("setMapZoom",t))},mapBounds:function(t){console.log("watch nextBounds is firing, nextBounds:",t,"this.$leafletElement:",this.$leafletElement),this.setMapBounds(t)},fullScreenMapEnabled:function(){this.$leafletElement.invalidateSize()},webMapDisplayedLayers:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,s=a()(this.intersectingFeatures);!(n=(i=s.next()).done);n=!0){var l=i.value;e.push(l.feature.layerName)}}catch(h){r=!0,o=h}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}console.log("map.vue watch nextWebMapDisplayedLayers:",t,"intersectingLayers:",e);for(var c=e,u=0;u<c.length;u++){var d=c[u];if(!t.includes(d))return void this.$store.commit("setIntersectingFeatures",[])}}},computed:{mapContainerClass:function(){return this.$config.map.containerClass?this.$config.map.containerClass:"map-container"},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},mapBounds:function(){return this.$store.state.map.bounds},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},intersectingFeatures:function(){return this.$store.state.map.intersectingFeatures}},methods:{createLeafletElement:function(){var t=this.$props,e=(t.zoomControlPosition,Object(A["a"])(t,["zoomControlPosition"]));return new c["Map"](this.$refs.map,e)},childDidMount:function(t){t.addTo(this.$leafletElement)},setMapView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom;if(0!==t.length){var n=Object(P["a"])(t,2),r=n[0],o=n[1],i=new c["LatLng"](o,r);this.$leafletElement.setView(i,e)}},setMapBounds:function(t){if(t._northEast){var e=this.$leafletElement;e.fitBounds([[t._northEast.lat,t._northEast.lng],[t._southWest.lat,t._southWest.lng]])}},identifyFeatures:function(t){var e,n=this.$leafletElement,r=new c["LatLngBounds"](t.latlng,t.latlng),o=[];for(var i in n._layers){var a=n._layers[i];if(a._layers)for(var s in a._layers){var l=a._layers[s];if(l.feature){e=l.feature.geometry.type;var u=void 0;"Polygon"===e||"MultiPolygon"===e?l.contains(t.latlng)&&this.checkForDuplicates(i,l,o):"LineString"===e?(u=l.getBounds(),u&&r.intersects(u)&&this.checkForDuplicates(i,l,o)):"Point"===e&&(u=new c["LatLngBounds"](l._latlng,l._latlng),u&&r.intersects(u)&&this.checkForDuplicates(i,l,o))}}}this.$store.commit("setPopupCoords",t.latlng),this.$store.commit("setIntersectingFeatures",o)},checkForDuplicates:function(t,e,n){for(var r=[],o=0;o<n.length;o++)r[o]=t+"_"+n[o].feature.id;r.includes(t+"_"+e.feature.id)||n.push(e)}}},z=B,N=(n("fdc8"),Object(w["a"])(z,I,L,!1,null,null,null)),R=N.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[n("button",{on:{click:t.handleLocationButtonClick}},[n("span",{staticClass:"button-state state-unnamed-state unnamed-state-active"},[n("font-awesome-icon",{staticClass:"fa-lg",attrs:{icon:this.computedIcon}})],1)])])},U=[],V=n("5176"),W=n.n(V),q=n("f0a4"),Z=(q["default"].props,q["default"].methods),H={name:"LocationControl",props:["position"],data:function(){return{locationOn:!1}},computed:{computedIcon:function(){return this.$config.geolocation&&this.$config.geolocation.icon?this.$config.geolocation.icon:"dot-circle"}},methods:W()(Z,{handleLocationButtonClick:function(t){var e=this.$store.state.map.watchPositionOn;e?this.moveToPosition():(this.$store.commit("setWatchPositionOn",!0),navigator.geolocation.watchPosition(this.geofindSuccess,this.geofindError,{enableHighAccuracy:!0,timeout:1e3,maximumAge:0,distanceFilter:5}))},geofindSuccess:function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};this.$store.commit("setLocation",e),this.locationOn||(this.moveToPosition(),this.locationOn=!0)},moveToPosition:function(){var t=this.$store.state.map.map,e=this.$store.state.map.location;t.setView([e.lat,e.lng],19)},geofindError:function(){console.log("GeofindError")}})},J=H,X=Object(w["a"])(J,G,U,!1,null,"9c472afe",null),Q=X.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[n("button",{on:{click:t.handleImageryToggleButtonClick}},[n("span",{staticClass:"button-state state-unnamed-state unnamed-state-active"},[n("img",{staticClass:"button-image",attrs:{src:t.toggleButtonImgSrc}})])])])},Y=[],tt=(q["default"].props,q["default"].methods),et={name:"BasemapToggleControl",props:["position"],computed:{toggleButtonImgSrc:function(){var t,e=this.$store.state.map.shouldShowImagery;return t=e?"images/basemap_small.png":"images/imagery_small.png",t}},methods:W()(tt,{handleImageryToggleButtonClick:function(t){var e=this.$store.state.map.shouldShowImagery,n=!e;this.$store.commit("setShouldShowImagery",n)}})},nt=et,rt=(n("bf85"),Object(w["a"])(nt,K,Y,!1,null,"1e23758e",null)),ot=rt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowImagery,expression:"shouldShowImagery"}]},[n("select",{attrs:{id:"year-select"},on:{change:t.handleImageryChange}},t._l(t.imageryTypes,function(e,r){return n("optgroup",{attrs:{label:e.label}},t._l(t.basemapsForImageryType(r),function(e){return n("option",{attrs:{"data-key":e.key}},[t._v("\n        "+t._s(e.label)+"\n      ")])}),0)}),0)])},at=[],st=n("a4bb"),lt=n.n(st),ct=(n("a481"),q["default"].props,q["default"].methods),ut={name:"BasemapSelectControl",props:["position"],computed:{shouldShowImagery:function(){return this.$store.state.map.shouldShowImagery},imageryTypes:function(){return this.$config.map.imageryTypes},currentImagery:function(){return this.$store.state.map.imagery}},watch:{currentImagery:function(t){var e=t.replace(/\D/g,""),n=document.getElementById("year-select");n.value=e}},methods:W()(ct,{handleImageryChange:function(){var t=document.getElementById("year-select"),e=t.options[t.selectedIndex].parentElement.label,n=t.options[t.selectedIndex].value,r=e.toLowerCase()+n;this.$store.commit("setImagery",r)},basemapsForImageryType:function(t){var e=this.$config.map.basemaps,n=lt()(e),r=[],o=!0,i=!1,s=void 0;try{for(var l,c=a()(n);!(o=(l=c.next()).done);o=!0){var u=l.value,d=e[u],h=d.type;if(h===t){var p=d.label;r.push({type:h,label:p})}}}catch(f){i=!0,s=f}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}return r}})},dt=ut,ht=Object(w["a"])(dt,it,at,!1,null,"b8d72df2",null),pt=ht.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[n("button",{class:this.pictometryActive,on:{click:function(e){return e.preventDefault(),t.handleButtonClick(e)}}},[n("span",{staticClass:"button-state"},[n("img",{staticClass:"button-image",attrs:{src:t.imgSrc}})])])])},mt=[],gt={name:"PictometryButton",extends:q["default"],props:["link","imgSrc"],computed:{pictometryActive:function(){return this.$store.state.pictometry.active?"active":"inactive"}},methods:{handleButtonClick:function(t){this.$store.commit("setPictometryActive",!this.$store.state.pictometry.active)}}},vt=gt,yt=(n("0eb8"),Object(w["a"])(vt,ft,mt,!1,null,"778e6480",null)),bt=yt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"leaflet-bar easy-button-container leaflet-control"},[n("button",{staticClass:"cyclomedia-button",class:this.cyclomediaActive,on:{click:function(e){return e.preventDefault(),t.handleButtonClick(e)}}},[n("span",{staticClass:"button-state"},[n("img",{staticClass:"button-image",attrs:{src:t.imgSrc}})])])])},Ct=[],$t={name:"CyclomediaButton",extends:q["default"],props:["link","imgSrc"],created:function(){this.$cyclomediaRecordingsClient=new C(this.$config.cyclomedia.recordingsUrl,this.$config.cyclomedia.username,this.$config.cyclomedia.password,4326)},computed:{cyclomediaInitialized:function(){return this.$store.state.cyclomedia.initialized},cyclomediaActive:function(){return this.$store.state.cyclomedia.active?"active":"inactive"}},methods:{handleButtonClick:function(t){this.cyclomediaInitialized||this.$store.commit("setCyclomediaInitialized",!0);var e=!this.$store.state.cyclomedia.active;this.$store.commit("setCyclomediaActive",e)}}},kt=$t,wt=(n("4bd1"),Object(w["a"])(kt,_t,Ct,!1,null,"8822cf22",null)),xt=wt.exports,Mt=n("84ae"),jt=n.n(Mt),St={name:"MeasureControl",props:["position"],mounted:function(){this.$leafletElement=this.createLeafletElement()},destroyed:function(){this.$leafletElement._map.removeControl(this.$leafletElement)},render:function(t){},methods:{createLeafletElement:function(){var t=this.$props.position;return new jt.a({position:t,primaryLengthUnit:"feet",primaryAreaUnit:"sqfeet"})},parentMounted:function(t){var e=t.$leafletElement;e.addControl(this.$leafletElement)}}},Ot=St,Tt=Object(w["a"])(Ot,b,_,!1,null,null,null),Et=Tt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowLegend,expression:"this.shouldShowLegend"}]},[n("div",{staticClass:"legend"},[n("ul",{staticClass:"legend-list"},t._l(this.keys,function(e){return n("li",{staticClass:"legend-listitem",style:"font-size:"+t.items[e]["font-size"]+";"},[n("div",{staticClass:"legend-box",style:"background-color:"+t.items[e]["background-color"]+"; border-color:"+t.items[e]["border-color"]+"; border-style:"+t.items[e]["border-style"]+"; border-width:"+t.items[e]["border-weight"]+"; width:"+t.items[e].width+"; height:"+t.items[e].height+";"}),n("div",{staticClass:"list-text"},[t._v("\n          "+t._s(e)+"\n        ")])])}),0)])])},It=[],Lt=(q["default"].props,q["default"].methods),Pt={name:"LegendControl",props:["position","options","items"],computed:{keys:function(){return lt()(this.$props.items)},activeTopic:function(){return this.$store.state.activeTopic},shouldShowImagery:function(){return this.$store.state.map.shouldShowImagery},shouldShowLegend:function(){var t=!0;return this.$props.options.topics.includes(this.activeTopic)||(t=!1),this.$props.options.showWithBaseMapOnly&&this.shouldShowImagery&&(t=!1),t}},methods:W()(Lt)},At=Pt,Dt=(n("7e02"),Object(w["a"])(At,Ft,It,!1,null,null,null)),Bt=Dt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"pvm-search-control-container "+this.containerClass,style:this.containerStyle},[n("form",{staticClass:"pvm-search-control-form",attrs:{autocomplete:"off",id:"search-form"},on:{submit:function(e){return e.preventDefault(),t.handleSearchFormSubmit(e)}}},[n("input",{class:"pvm-search-control-input "+this.inputClass,style:this.inputStyle,attrs:{id:t.inputID,placeholder:this.$props.placeholder||"Search the map",tabindex:"0"},domProps:{value:this.addressEntered},on:{keyup:t.didType}})]),""!=this.addressEntered&&null!=this.addressEntered?n("button",{class:"pvm-search-control-button "+this.buttonClass,on:{click:t.handleFormX}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),n("button",{class:"pvm-search-control-button "+this.buttonClass,attrs:{name:"pvm-search-control-button",tabindex:"-1"},on:{click:this.handleSearchFormSubmit}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),t._t("address-candidates-slot")],2)},Nt=[],Rt=(n("6b54"),n("06db"),n("d225")),Gt=n("b0b4"),Ut=n("308d"),Vt=n("6bb5"),Wt=n("4e2b"),qt=n("85b1");function Zt(){return"id-"+Math.random().toString(36).substring(7)}var Ht=Zt,Jt={name:"MapAddressInput",props:["position","widthFromConfig","placeholder"],data:function(){var t={containerStyle:{width:"305px"},inputStyle:{width:"250px"},inputID:Ht(),addressEntered:null};return t},created:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered:function(t){this.handleWindowResize()}},computed:{map:function(){return this.$store.state.map.map},inputWidth:function(){return""===this.addressEntered||null===this.addressEntered?this.$props.widthFromConfig-55:this.$props.widthFromConfig-108},inputClass:function(){return this.isMobileOrTablet?"pvm-input-mobile":"pvm-input-non-mobile"},containerClass:function(){return this.isMobileOrTablet?"pvm-container-mobile":"pvm-container-non-mobile"},buttonClass:function(){return this.isMobileOrTablet?"pvm-button-mobile":"pvm-button-non-mobile"},addressAutocompleteEnabled:function(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet}},methods:{createLeafletElement:function(t){var e=function(e){function n(t,e){var r;return Object(Rt["a"])(this,n),r=Object(Ut["a"])(this,Object(Vt["a"])(n).call(this,e)),r.el=t,r}return Object(Wt["a"])(n,e),Object(Gt["a"])(n,[{key:"onAdd",value:function(){var e=this.el;return t.DomEvent.disableClickPropagation(e),t.DomEvent.disableScrollPropagation(e),e}}]),n}(t.Control),n=this.$el;return new e(n,{position:this.position})},parentMounted:function(t,e){var n=this.createLeafletElement(c);this.$leafletElement=n;var r=this.map;n.addTo(r)},didType:Object(qt["a"])(function(t){var e=t.target.value;if(this.$data.addressEntered=e,this.addressAutocompleteEnabled){if("ArrowDown"===t.key)return void document.getElementById("address-candidate-list-0").focus();this.getCandidates(e),"Enter"!==t.key&&this.$store.commit("setShouldShowAddressCandidateList",!0)}},300),getCandidates:function(t){m.a.get("https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/",{params:{address:t}}).then(this.didGetCandidates).catch(this.didGetCandidatesError)},didGetCandidates:function(t){var e=t.data.matches,n=e.map(function(t){return t.address});this.$store.commit("setCandidates",n)},didGetCandidatesError:function(t){console.log("error getting candidates",t),this.$store.commit("setCandidates",[])},handleFormX:function(){console.log("handleFormX is running"),this.$data.addressEntered="",this.$store.commit("setShouldShowAddressCandidateList",!1),this.$store.commit("setCandidates",[])},handleSearchFormSubmit:function(){var t;console.log("handleSearchFormSubmit is running"),t=this.addressAutocompleteEnabled?addressEntered:document.querySelector("#"+this.$data.inputID.toString()).value,this.$controller.handleSearchFormSubmit(t)},handleWindowResize:function(){var t=this.addressEntered;window.innerWidth>=850?(this.containerStyle.width=this.$props.widthFromConfig+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-55+"px":this.$props.widthFromConfig-108+"px"):window.innerWidth>=750?(this.containerStyle.width=this.$props.widthFromConfig-100+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-155+"px":this.$props.widthFromConfig-208+"px"):(this.containerStyle.width="300px",this.inputStyle.width=""===t||null===t?"245px":"192px")}}},Xt=Jt,Qt=(n("f93e"),Object(w["a"])(Xt,zt,Nt,!1,null,"2fea45c4",null)),Kt=Qt.exports,Yt=u.a.featureGroup,te=u.a.geoJSON,ee=u.a.marker,ne={name:"MapPanel",mixins:[d,h,p],components:{Control:function(){return Promise.resolve().then(n.bind(null,"f0a4"))},MapAddressCandidateList:function(){return n.e("mbmp_pvm_MapAddressCandidateList").then(n.bind(null,"6e28"))},EsriTiledMapLayer:function(){return n.e("mbmp_pvm_EsriTiledMapLayer").then(n.bind(null,"5218"))},EsriTiledOverlay:function(){return n.e("mbmp_pvm_EsriTiledOverlay").then(n.bind(null,"ef0b"))},EsriDynamicMapLayer:function(){return n.e("mbmp_pvm_EsriDynamicMapLayer").then(n.bind(null,"8c8b"))},EsriFeatureLayer:function(){return n.e("mbmp_pvm_EsriFeatureLayer").then(n.bind(null,"9c4f"))},Geojson:function(){return n.e("mbmp_pvm_Geojson").then(n.bind(null,"1c8b"))},CircleMarker:function(){return n.e("mbmp_pvm_CircleMarker").then(n.bind(null,"03ae"))},VectorMarker:function(){return n.e("mbmp_pvm_VectorMarker").then(n.bind(null,"38b8"))},PngMarker:function(){return n.e("mbmp_pvm_PngMarker").then(n.bind(null,"da65"))},CyclomediaRecordingCircle:function(){return n.e("mbmp_pvm_CyclomediaRecordingCircle").then(n.bind(null,"3105"))},SvgViewConeMarker:function(){return n.e("mbmp_pvm_CyclomediaSvgViewConeMarker").then(n.bind(null,"2683"))},BasemapTooltip:function(){return n.e("mbmp_pvm_BasemapTooltip").then(n.bind(null,"be2e"))},ControlCorner:M,FullScreenMapToggleTab:F,Map_:R,LocationControl:Q,BasemapToggleControl:ot,BasemapSelectControl:pt,PictometryButton:bt,CyclomediaButton:xt,MeasureControl:Et,LegendControl:Bt,MapAddressInput:Kt},data:function(){var t={createdComplete:!1,zoomToShape:{geojsonParcels:[],geojsonForTopic:[],markersForAddress:[],markersForTopic:[]}};return t},created:function(){this.createdComplete=!0;var t=this.$config.defaultAddress;t&&this.$controller.goToDefaultAddress(t);var e=this.$config.cyclomedia||{};e.enabled&&(this.$cyclomediaRecordingsClient=new C(this.$config.cyclomedia.recordingsUrl,this.$config.cyclomedia.username,this.$config.cyclomedia.password,4326))},computed:{addressAutocompleteEnabled:function(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},addressInputPosition:function(){return this.isMobileOrTablet?"topleft":"topalmostleft"},addressInputWidth:function(){return this.$config.addressInput?this.$config.addressInput.mapWidth:415},addressInputPlaceholder:function(){return this.$config.addressInput?this.$config.addressInput.placeholder:null},basemapSelectControlPosition:function(){return this.isMobileOrTablet?"topright":"topalmostright"},shouldShowAddressCandidateList:function(){return this.$store.state.shouldShowAddressCandidateList},measureControlEnabled:function(){return!1!==this.$config.measureControlEnabled},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},fullScreenTopicsEnabled:function(){return this.$store.state.fullScreenTopicsEnabled},mapPanelContainerClass:function(){return this.fullScreenMapEnabled?"medium-24 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map":this.fullScreenMapOnly?"medium-1 small-order-1 small-1 medium-order-2 mb-panel mb-panel-map":this.fullScreenTopicsEnabled?"medium-1 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map":"medium-12 small-order-1 small-24 medium-order-2 mb-panel mb-panel-map"},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var t=this.$store.state.cyclomedia.orientation.xyz;return[t[1],t[0]]}var e=this.$config.map.center;return e},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},shouldShowCyclomediaButton:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},shouldShowPictometryButton:function(){return this.$config.pictometry.enabled&&!this.isMobileOrTablet},geolocationEnabled:function(){return!!this.$config.geolocation&&this.$config.geolocation.enabled},activeDorParcel:function(){return this.$store.state.parcels.dor.activeParcel},legendControls:function(){return this.$config.legendControls||{}},imageOverlay:function(){return this.$store.state.map.imageOverlay},imageOverlayItems:function(){if(this.activeTopicConfig.imageOverlayGroup){var t=this.activeTopicConfig.imageOverlayGroup,e=this.$store.state,n=this.$config.imageOverlayGroups[t].items(e);return n}return[]},imageOverlayInfo:function(){return this.$config.map.dynamicMapLayers.regmaps},activeBasemap:function(){var t=this.$store.state.map.shouldShowImagery;if(t)return this.$store.state.map.imagery;var e=this.$config.map.defaultBasemap,n=this.$store.state.map.basemap||e;return n},tiledLayers:function(){var t=this.activeBasemap,e=this.configForBasemap(t);return e.tiledLayers||[]},activeTiledOverlays:function(){return this.activeTopicConfig&&this.activeTopicConfig.tiledOverlays?this.activeTopicConfig.tiledOverlays:[]},activeDynamicMaps:function(){return this.activeTopicConfig&&this.activeTopicConfig.dynamicMapLayers?this.activeTopicConfig.dynamicMapLayers:[]},activeFeatureLayers:function(){return this.activeTopicConfig&&this.activeTopicConfig.featureLayers?this.activeTopicConfig.featureLayers:[]},activeFeature:function(){return this.$store.state.activeFeature},basemaps:function(){return l()(this.$config.map.basemaps)},imageryBasemaps:function(){return this.basemaps.filter(function(t){return"imagery"===t.type})},hasImageryBasemaps:function(){return this.imageryBasemaps.length>0},shouldShowImageryToggle:function(){return this.$config.map.imagery?this.hasImageryBasemaps&&this.$config.map.imagery.enabled:this.hasImageryBasemaps},identifyFeature:function(){var t;return"intersection"===this.geocodeType?t="address-marker":this.activeTopicConfig.identifyFeature?t=this.activeTopicConfig.identifyFeature:this.$config&&(t=this.$config.map.defaultIdentifyFeature),t},activeTopic:function(){return this.$store.state.activeTopic},activeTopicConfig:function(){var t,e=this.activeTopic;this.createdComplete;return e&&this.$config&&(t=this.$config.topics.filter(function(t){return t.key===e})[0]),t||{}},activeParcelLayer:function(){return this.activeTopicConfig.parcels},dorParcels:function(){return this.$store.state.parcels.dor.data},pwdParcel:function(){return this.$store.state.parcels.pwd},geocodeResult:function(){return this.$store.state.geocode.data||{}},geocodeGeom:function(){return this.geocodeResult.geometry},geocodeType:function(){return this.geocodeResult.ais_feature_type},streetAddress:function(){return this.geocodeResult.properties.street_address},picOrCycloActive:function(){return!(!this.cyclomediaActive&&!this.pictometryActive)},mapBounds:function(){},boundsBasedOnShape:function(){return this.$store.state.map.boundsBasedOnShape},isGeocoding:function(){return"waiting"===this.$store.state.geocode.status}},watch:{picOrCycloActive:function(t){var e=this;this.$nextTick(function(){e.$store.state.map.map.invalidateSize()})},geojsonForTopic:function(t){var e=this.activeTopicConfig.zoomToShape,n=this.$data.zoomToShape;e&&e.includes("geojsonForTopic")?(n.geojsonForTopic=t,this.checkBoundsChanges()):n.geojsonForTopic=[]},geojsonParcels:function(t){var e=this.activeTopicConfig.zoomToShape,n=this.$data.zoomToShape;e&&e.includes("geojsonParcels")?(n.geojsonParcels=t,this.checkBoundsChanges()):n.geojsonParcels=[]},markersForAddress:function(t){var e=this.activeTopicConfig.zoomToShape,n=this.$data.zoomToShape;e&&e.includes("markersForAddress")?(n.markersForAddress=t,this.checkBoundsChanges()):n.markersForAddress=[]},markersForTopic:function(t){var e=this.activeTopicConfig.zoomToShape,n=this.$data.zoomToShape;e&&e.includes("markersForTopic")?(n.markersForTopic=t,this.checkBoundsChanges()):n.markersForTopic=[]},fullScreenTopicsEnabled:function(){var t=this;this.$nextTick(function(){t.$store.state.map.map.invalidateSize()})}},methods:{checkBoundsChanges:function(){var t=this.activeTopicConfig.zoomToShape;if(t){var e=this.$data.zoomToShape,n=[],r=!0,o=!1,i=void 0;try{for(var s,l=a()(t);!(r=(s=l.next()).done);r=!0){var c=s.value;!1!==e[c]&&e[c].length>0?n.push(!0):n.push(!1)}}catch(u){o=!0,i=u}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}n.includes(!1)||this.setMapToBounds()}},setMapToBounds:function(){var t=[],e=this.activeTopicConfig.zoomToShape;if(e){if(e.includes("geojsonParcels")){var n=!0,r=!1,o=void 0;try{for(var i,s=a()(this.geojsonParcels);!(n=(i=s.next()).done);n=!0){var l=i.value;t.push(te(l.geojson))}}catch(O){r=!0,o=O}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}if(e.includes("geojsonForTopic")){var c=!0,u=!1,d=void 0;try{for(var h,p=a()(this.geojsonForTopic);!(c=(h=p.next()).done);c=!0){var f=h.value;t.push(te(f.geojson))}}catch(O){u=!0,d=O}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}if(e.includes("markersForAddress")){var m=!0,g=!1,v=void 0;try{for(var y,b=a()(this.markersForAddress);!(m=(y=b.next()).done);m=!0){var _=y.value;t.push(ee(_.latlng))}}catch(O){g=!0,v=O}finally{try{m||null==b.return||b.return()}finally{if(g)throw v}}}if(e.includes("markersForTopic")){var C=!0,$=!1,k=void 0;try{for(var w,x=a()(this.markersForTopic);!(C=(w=x.next()).done);C=!0){var M=w.value;t.push(ee(M.latlng))}}catch(O){$=!0,k=O}finally{try{C||null==x.return||x.return()}finally{if($)throw k}}}var j=new Yt(t),S=j.getBounds();this.$store.commit("setMapBounds",S)}},configForBasemap:function(t){return this.$config.map.basemaps[t]||{}},shouldShowGeojson:function(t){return"pwd"===this.activeTopicConfig.basemap||t===this.activeDorParcel},shouldShowImageOverlay:function(t){return t===this.imageOverlay},shouldShowFeatureLayer:function(t){return!!this.activeFeatureLayers.includes(t)},handleMapClick:function(t){this.$controller.handleMapClick(t)},handleMapMove:function(t){var e=this.$store.state.map.map,n=this.$config.pictometry||{},r=e.getCenter(),o=r.lat,i=r.lng,a=[i,o];if(n.enabled){this.$store.commit("setPictometryMapCenter",a);var s=e.getZoom();this.$store.commit("setPictometryMapZoom",s)}var l=this.$config.cyclomedia||{};l.enabled&&(this.updateCyclomediaRecordings(),this.$store.commit("setCyclomediaLatLngFromMap",[o,i]))},fillColorForOverlayMarker:function(t,e){var n=this.getConfigForTable(e),r=n.options.mapOverlay,o=r.style,i=r.hoverStyle,a=this.activeFeature,s=t===a.featureId&&e===a.tableId,l=s?i:o;return l.fillColor}}},re=ne,oe=(n("38f3"),Object(w["a"])(re,r,o,!1,null,"37405c04",null));e["default"]=oe.exports},ef03:function(t,e,n){var r=n("c30c"),o=n("adaa"),i=n("266a"),a=n("9740"),s=n("5226"),l=n("3eda"),c=n("9aff"),u=n("ec69"),d=n("eff0"),h=n("66a9"),p=n("76dd"),f=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/($^)/,b=/['\n\r\u2028\u2029\\]/g;function _(t,e,n){var _=h.imports._.templateSettings||h;n&&c(t,e,n)&&(e=void 0),t=p(t),e=r({},e,_,a);var C,$,k=r({},e.imports,_.imports,a),w=u(k),x=i(k,w),M=0,j=e.interpolate||y,S="__p += '",O=RegExp((e.escape||y).source+"|"+j.source+"|"+(j===d?v:y).source+"|"+(e.evaluate||y).source+"|$","g"),T="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";t.replace(O,function(e,n,r,o,i,a){return r||(r=o),S+=t.slice(M,a).replace(b,s),n&&(C=!0,S+="' +\n__e("+n+") +\n'"),i&&($=!0,S+="';\n"+i+";\n__p += '"),r&&(S+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),M=a+e.length,e}),S+="';\n";var E=e.variable;E||(S="with (obj) {\n"+S+"\n}\n"),S=($?S.replace(f,""):S).replace(m,"$1").replace(g,"$1;"),S="function("+(E||"obj")+") {\n"+(E?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(C?", __e = _.escape":"")+($?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+S+"return __p\n}";var F=o(function(){return Function(w,T+"return "+S).apply(void 0,x)});if(F.source=S,l(F))throw F;return F}t.exports=_},eff0:function(t,e){var n=/<%=([\s\S]+?)%>/g;t.exports=n},f0a4:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},o=[],i=n("d225"),a=n("b0b4"),s=n("308d"),l=n("6bb5"),c=n("4e2b"),u=n("e11e"),d={name:"Control",props:["position"],methods:{createLeafletElement:function(t){var e=function(e){function n(t,e){var r;return Object(i["a"])(this,n),r=Object(s["a"])(this,Object(l["a"])(n).call(this,e)),r.el=t,r}return Object(c["a"])(n,e),Object(a["a"])(n,[{key:"onAdd",value:function(){var e=this.el;return t.DomEvent.disableClickPropagation(e),t.DomEvent.disableScrollPropagation(e),e}}]),n}(t.Control),n=this.$el;return new e(n,{position:this.position})},parentMounted:function(t,e){var n=this.createLeafletElement(u);this.$leafletElement=n;var r=t.$leafletElement;n.addTo(r)}}},h=d,p=n("2877"),f=Object(p["a"])(h,r,o,!1,null,null,null);e["default"]=f.exports},f3c1:function(t,e){var n=800,r=16,o=Date.now;function i(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}t.exports=i},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f93e:function(t,e,n){"use strict";var r=n("01b4"),o=n.n(r);o.a},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fdc8:function(t,e,n){"use strict";var r=n("9ee1"),o=n.n(r);o.a},fe40:function(t,e,n){var r=n("ddc6"),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=r(o);t.exports=i},ffd6:function(t,e,n){var r=n("3729"),o=n("1310"),i="[object Symbol]";function a(t){return"symbol"==typeof t||o(t)&&r(t)==i}t.exports=a}}]);
//# sourceMappingURL=mbmb_MapPanelLoader.219f3b7d.js.map