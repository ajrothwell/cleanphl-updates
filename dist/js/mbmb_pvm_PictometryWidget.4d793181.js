(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmb_pvm_PictometryWidget"],{"32d6":function(t,e,o){},"33d6":function(t,e,o){"use strict";var n=o("32d6"),i=o.n(n);i.a},"768b":function(t,e,o){"use strict";var n=o("a745"),i=o.n(n);function r(t){if(i()(t))return t}var a=o("5d73"),c=o.n(a);function s(t,e){var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=c()(t);!(n=(a=s.next()).done);n=!0)if(o.push(a.value),e&&o.length===e)break}catch(l){i=!0,r=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw r}}return o}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,e){return r(t)||s(t,e)||l()}o.d(e,"a",function(){return u})},8314:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:this.pictContainerClass,attrs:{id:"pict-container"}},[!1===this.isMobileOrTablet?o("div",{attrs:{id:"in-pict-div"},on:{click:this.popoutClicked}},[o("font-awesome-icon",{staticClass:"popout-icon",attrs:{icon:"external-link-alt"}})],1):t._e(),o("iframe",{ref:"pictometryIpa",attrs:{id:"pictometry-ipa",src:"#"}}),o("div",[t._t("default")],2)])},i=[],r=o("768b"),a=o("f2b7"),c=o.n(a),s={name:"PictometryWidget",props:["apiKey","secretKey"],created:function(){this.$IFRAME_ID="pictometry-ipa"},mounted:function(){var t="https://pol.pictometry.com/ipa/v1/embed/host.php?apikey="+this.apiKey,e=this;this.getScript(t,e.init)},computed:{isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},pictContainerClass:function(){return this.cyclomediaActive?"medium-8 large-8 columns mb-panel":"medium-24 large-24 columns mb-panel"},mapCenter:function(){return this.$store.state.pictometry.map.center},mapZoom:function(){return this.$store.state.pictometry.map.zoom}},watch:{mapCenter:function(t){var e=Object(r["a"])(t,2),o=e[0],n=e[1],i=this.mapZoom;this.$ipa&&this.$ipa.setLocation({x:o,y:n,zoom:i})},mapZoom:function(t){this.$ipa&&this.$ipa.setLocation({y:this.mapCenter.lat,x:this.mapCenter.lng,zoom:t})},cyclomediaActive:function(t){t?this.$ipa.showDashboard({zoom:!1,imageFilter:!1,layers:!1,nextPrevious:!1,tools:!1,annotations:!1,rotation:!1,clearMeasurements:!1,exportPdf:!1,dualPane:!1,imageDate:!1,panTool:!1,exportImage:!1,areaTool:!1,distanceTool:!1,heightTool:!1,locationTool:!1,elevationTool:!1,bearingTool:!1,slopeTool:!1,xyzTool:!1,identifyPoint:!1,identifyBox:!1}):this.$ipa.showDashboard({zoom:!0,imageFilter:!0,layers:!0,nextPrevious:!0,tools:!0,annotations:!0,rotation:!0,clearMeasurements:!0,exportPdf:!0,dualPane:!0,imageDate:!0,panTool:!0,exportImage:!0,areaTool:!0,distanceTool:!0,heightTool:!0,locationTool:!0,elevationTool:!0,bearingTool:!0,slopeTool:!0,xyzTool:!0,identifyPoint:!0,identifyBox:!0})}},methods:{getScript:function(t,e){var o=document.createElement("script"),n=document.getElementsByTagName("script")[0];o.async=1,o.onload=o.onreadystatechange=function(t,n){(n||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,o=void 0,n||e&&e())},o.src=t,n.parentNode.insertBefore(o,n)},popoutClicked:function(){var t=this.$store.state.map.map,e=t.getCenter();window.open("//pictometry.phila.gov/?"+e.lat+"&"+e.lng,"_blank"),this.$store.commit("setPictometryActive",!1)},init:function(){var t=new Date,e=Math.floor(t.getTime()/1e3),o="https://pol.pictometry.com/ipa/v1/load.php?apikey="+this.apiKey+"&ts="+e,n=c()(o,this.secretKey),i=this.$IFRAME_ID,r=o+"&ds="+n+"&app_id="+i,a=this.$refs.pictometryIpa;a.setAttribute("src",r);var s=this.$ipa=new PictometryHost(i,"https://pol.pictometry.com/ipa/v1/load.php");this.$store.commit("setPictometryIpa",s),s.ready=this.ipaReady},ipaReady:function(){this.$ipa.setLocation({y:this.mapCenter.lat,x:this.mapCenter.lng,zoom:this.mapZoom});var t=this;this.$ipa.addListener("onendzoom",function(e){t.$store.commit("setPictometryZoom",e.level)})}}},l=s,u=(o("33d6"),o("2877")),p=Object(u["a"])(l,n,i,!1,null,"0042452b",null);e["default"]=p.exports},f2b7:function(t,e,o){var n;(function(i){"use strict";function r(t,e){var o=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(o>>16);return n<<16|65535&o}function a(t,e){return t<<e|t>>>32-e}function c(t,e,o,n,i,c){return r(a(r(r(e,t),r(n,c)),i),o)}function s(t,e,o,n,i,r,a){return c(e&o|~e&n,t,e,i,r,a)}function l(t,e,o,n,i,r,a){return c(e&n|o&~n,t,e,i,r,a)}function u(t,e,o,n,i,r,a){return c(e^o^n,t,e,i,r,a)}function p(t,e,o,n,i,r,a){return c(o^(e|~n),t,e,i,r,a)}function m(t,e){var o,n,i,a,c;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var m=1732584193,d=-271733879,f=-1732584194,h=271733878;for(o=0;o<t.length;o+=16)n=m,i=d,a=f,c=h,m=s(m,d,f,h,t[o],7,-680876936),h=s(h,m,d,f,t[o+1],12,-389564586),f=s(f,h,m,d,t[o+2],17,606105819),d=s(d,f,h,m,t[o+3],22,-1044525330),m=s(m,d,f,h,t[o+4],7,-176418897),h=s(h,m,d,f,t[o+5],12,1200080426),f=s(f,h,m,d,t[o+6],17,-1473231341),d=s(d,f,h,m,t[o+7],22,-45705983),m=s(m,d,f,h,t[o+8],7,1770035416),h=s(h,m,d,f,t[o+9],12,-1958414417),f=s(f,h,m,d,t[o+10],17,-42063),d=s(d,f,h,m,t[o+11],22,-1990404162),m=s(m,d,f,h,t[o+12],7,1804603682),h=s(h,m,d,f,t[o+13],12,-40341101),f=s(f,h,m,d,t[o+14],17,-1502002290),d=s(d,f,h,m,t[o+15],22,1236535329),m=l(m,d,f,h,t[o+1],5,-165796510),h=l(h,m,d,f,t[o+6],9,-1069501632),f=l(f,h,m,d,t[o+11],14,643717713),d=l(d,f,h,m,t[o],20,-373897302),m=l(m,d,f,h,t[o+5],5,-701558691),h=l(h,m,d,f,t[o+10],9,38016083),f=l(f,h,m,d,t[o+15],14,-660478335),d=l(d,f,h,m,t[o+4],20,-405537848),m=l(m,d,f,h,t[o+9],5,568446438),h=l(h,m,d,f,t[o+14],9,-1019803690),f=l(f,h,m,d,t[o+3],14,-187363961),d=l(d,f,h,m,t[o+8],20,1163531501),m=l(m,d,f,h,t[o+13],5,-1444681467),h=l(h,m,d,f,t[o+2],9,-51403784),f=l(f,h,m,d,t[o+7],14,1735328473),d=l(d,f,h,m,t[o+12],20,-1926607734),m=u(m,d,f,h,t[o+5],4,-378558),h=u(h,m,d,f,t[o+8],11,-2022574463),f=u(f,h,m,d,t[o+11],16,1839030562),d=u(d,f,h,m,t[o+14],23,-35309556),m=u(m,d,f,h,t[o+1],4,-1530992060),h=u(h,m,d,f,t[o+4],11,1272893353),f=u(f,h,m,d,t[o+7],16,-155497632),d=u(d,f,h,m,t[o+10],23,-1094730640),m=u(m,d,f,h,t[o+13],4,681279174),h=u(h,m,d,f,t[o],11,-358537222),f=u(f,h,m,d,t[o+3],16,-722521979),d=u(d,f,h,m,t[o+6],23,76029189),m=u(m,d,f,h,t[o+9],4,-640364487),h=u(h,m,d,f,t[o+12],11,-421815835),f=u(f,h,m,d,t[o+15],16,530742520),d=u(d,f,h,m,t[o+2],23,-995338651),m=p(m,d,f,h,t[o],6,-198630844),h=p(h,m,d,f,t[o+7],10,1126891415),f=p(f,h,m,d,t[o+14],15,-1416354905),d=p(d,f,h,m,t[o+5],21,-57434055),m=p(m,d,f,h,t[o+12],6,1700485571),h=p(h,m,d,f,t[o+3],10,-1894986606),f=p(f,h,m,d,t[o+10],15,-1051523),d=p(d,f,h,m,t[o+1],21,-2054922799),m=p(m,d,f,h,t[o+8],6,1873313359),h=p(h,m,d,f,t[o+15],10,-30611744),f=p(f,h,m,d,t[o+6],15,-1560198380),d=p(d,f,h,m,t[o+13],21,1309151649),m=p(m,d,f,h,t[o+4],6,-145523070),h=p(h,m,d,f,t[o+11],10,-1120210379),f=p(f,h,m,d,t[o+2],15,718787259),d=p(d,f,h,m,t[o+9],21,-343485551),m=r(m,n),d=r(d,i),f=r(f,a),h=r(h,c);return[m,d,f,h]}function d(t){var e,o="",n=32*t.length;for(e=0;e<n;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function f(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)o[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return o}function h(t){return d(m(f(t),8*t.length))}function y(t,e){var o,n,i=f(t),r=[],a=[];for(r[15]=a[15]=void 0,i.length>16&&(i=m(i,8*t.length)),o=0;o<16;o+=1)r[o]=909522486^i[o],a[o]=1549556828^i[o];return n=m(r.concat(f(e)),512+8*e.length),d(m(a.concat(n),640))}function v(t){var e,o,n="0123456789abcdef",i="";for(o=0;o<t.length;o+=1)e=t.charCodeAt(o),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function g(t){return unescape(encodeURIComponent(t))}function b(t){return h(g(t))}function T(t){return v(b(t))}function $(t,e){return y(g(t),g(e))}function C(t,e){return v($(t,e))}function w(t,e,o){return e?o?$(e,t):C(e,t):o?b(t):T(t)}n=function(){return w}.call(e,o,e,t),void 0===n||(t.exports=n)})()}}]);
//# sourceMappingURL=mbmb_pvm_PictometryWidget.4d793181.js.map