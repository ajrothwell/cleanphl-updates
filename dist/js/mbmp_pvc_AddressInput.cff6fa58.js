(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmp_pvc_AddressInput"],{"3fdc":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"pvc-search-control-container "+this.containerClass,style:this.containerStyle},[n("form",{staticClass:"pvc-search-control-form",attrs:{autocomplete:"off",id:"search-form"},on:{submit:function(e){return e.preventDefault(),t.handleSearchFormSubmit(e)}}},[n("input",{class:"pvc-search-control-input "+this.inputClass,style:this.inputStyle,attrs:{id:t.inputID,placeholder:this.$props.placeholder||"Search the map",tabindex:"0"},domProps:{value:this.addressEntered},on:{keyup:t.didType}})]),""!=this.addressEntered&&null!=this.addressEntered?n("button",{class:"pvc-search-control-button "+this.buttonClass,on:{click:t.handleFormX}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),n("button",{class:"pvc-search-control-button "+this.buttonClass,attrs:{tabindex:"-1"},on:{click:this.handleSearchFormSubmit}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),t._t("address-candidates-slot")],2)},r=[],o=(n("6b54"),n("06db"),n("85b1")),s=n("bc3a"),a=n.n(s),d=n("b4d8"),c={name:"AddressInput",props:["widthFromConfig","placeholder"],data:function(){var t={containerStyle:{width:"305px"},inputStyle:{width:"250px"},inputID:Object(d["a"])(),addressEntered:null};return t},created:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},watch:{addressEntered:function(t){this.handleWindowResize()}},computed:{inputWidth:function(){return""===this.addressEntered||null===this.addressEntered?this.$props.widthFromConfig-55:this.$props.widthFromConfig-108},inputClass:function(){return this.isMobileOrTablet?"pvc-input-mobile":"pvc-input-non-mobile"},containerClass:function(){return this.isMobileOrTablet?"pvc-container-mobile":"pvc-container-non-mobile"},buttonClass:function(){return this.isMobileOrTablet?"pvc-button-mobile":"pvc-button-non-mobile"},addressAutocompleteEnabled:function(){return!!this.$config.addressInput&&!0===this.$config.addressInput.autocompleteEnabled},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet}},methods:{didType:Object(o["a"])(function(t){var e=t.target.value;if(this.$data.addressEntered=e,this.addressAutocompleteEnabled){if("ArrowDown"===t.key)return void document.getElementById("address-candidate-list-0").focus();this.getCandidates(e),"Enter"!==t.key&&this.$store.commit("setShouldShowAddressCandidateList",!0)}},300),getCandidates:function(t){a.a.get("https://cqvfg1pm72.execute-api.us-east-1.amazonaws.com/dev/first-api-test/",{params:{address:t}}).then(this.didGetCandidates).catch(this.didGetCandidatesError)},didGetCandidates:function(t){var e=t.data.matches,n=e.map(function(t){return t.address});this.$store.commit("setCandidates",n)},didGetCandidatesError:function(t){console.log("error getting candidates",t),this.$store.commit("setCandidates",[])},handleFormX:function(){console.log("handleFormX is running"),this.$data.addressEntered="",this.$store.commit("setShouldShowAddressCandidateList",!1),this.$store.commit("setCandidates",[])},handleSearchFormSubmit:function(){var t;console.log("handleSearchFormSubmit is running"),t=this.addressAutocompleteEnabled?addressEntered:document.querySelector("#"+this.$data.inputID.toString()).value,this.$controller.handleSearchFormSubmit(t)},handleWindowResize:function(){var t=this.addressEntered;window.innerWidth>=850?(this.containerStyle.width=this.$props.widthFromConfig+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-55+"px":this.$props.widthFromConfig-108+"px"):window.innerWidth>=750?(this.containerStyle.width=this.$props.widthFromConfig-100+"px",this.inputStyle.width=""===t||null===t?this.$props.widthFromConfig-155+"px":this.$props.widthFromConfig-208+"px"):(this.containerStyle.width="300px",this.inputStyle.width=""===t||null===t?"245px":"192px")}}},u=c,l=(n("410c"),n("2877")),h=Object(l["a"])(u,i,r,!1,null,"b0be0c74",null);e["default"]=h.exports},"410c":function(t,e,n){"use strict";var i=n("488a"),r=n.n(i);r.a},"488a":function(t,e,n){},"5ea3":function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=n}).call(this,n("c8ba"))},"85b1":function(t,e,n){"use strict";function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var r=i,o=n("5ea3"),s="object"==typeof self&&self&&self.Object===Object&&self,a=o["a"]||s||Function("return this")(),d=a,c=function(){return d.Date.now()},u=c,l=d.Symbol,h=l,p=Object.prototype,f=p.hasOwnProperty,m=p.toString,b=h?h.toStringTag:void 0;function v(t){var e=f.call(t,b),n=t[b];try{t[b]=void 0;var i=!0}catch(o){}var r=m.call(t);return i&&(e?t[b]=n:delete t[b]),r}var w=v,g=Object.prototype,y=g.toString;function S(t){return y.call(t)}var C=S,$="[object Null]",E="[object Undefined]",x=h?h.toStringTag:void 0;function F(t){return null==t?void 0===t?E:$:x&&x in Object(t)?w(t):C(t)}var O=F;function j(t){return null!=t&&"object"==typeof t}var T=j,I="[object Symbol]";function W(t){return"symbol"==typeof t||T(t)&&O(t)==I}var A=W,M=NaN,k=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,_=/^0o[0-7]+$/i,G=parseInt;function R(t){if("number"==typeof t)return t;if(A(t))return M;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var n=D.test(t);return n||_.test(t)?G(t.slice(2),n?2:8):z.test(t)?M:+t}var L=R,N="Expected a function",X=Math.max,q=Math.min;function J(t,e,n){var i,o,s,a,d,c,l=0,h=!1,p=!1,f=!0;if("function"!=typeof t)throw new TypeError(N);function m(e){var n=i,r=o;return i=o=void 0,l=e,a=t.apply(r,n),a}function b(t){return l=t,d=setTimeout(g,e),h?m(t):a}function v(t){var n=t-c,i=t-l,r=e-n;return p?q(r,s-i):r}function w(t){var n=t-c,i=t-l;return void 0===c||n>=e||n<0||p&&i>=s}function g(){var t=u();if(w(t))return y(t);d=setTimeout(g,v(t))}function y(t){return d=void 0,f&&i?m(t):(i=o=void 0,a)}function S(){void 0!==d&&clearTimeout(d),l=0,i=c=o=d=void 0}function C(){return void 0===d?a:y(u())}function $(){var t=u(),n=w(t);if(i=arguments,o=this,c=t,n){if(void 0===d)return b(c);if(p)return d=setTimeout(g,e),m(c)}return void 0===d&&(d=setTimeout(g,e)),a}return e=L(e)||0,r(n)&&(h=!!n.leading,p="maxWait"in n,s=p?X(L(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),$.cancel=S,$.flush=C,$}e["a"]=J},b4d8:function(t,e,n){"use strict";function i(){return"id-"+Math.random().toString(36).substring(7)}e["a"]=i}}]);
//# sourceMappingURL=mbmp_pvc_AddressInput.cff6fa58.js.map