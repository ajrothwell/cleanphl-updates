{"version":3,"sources":["webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?8d3e","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?6d12","webpack:///node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?f569","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue"],"names":["_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_MapAddressCandidateList_vue_vue_type_style_index_0_id_9694ece0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_MapAddressCandidateList_vue_vue_type_style_index_0_id_9694ece0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","class","listGroupClass","_l","candidate","i","staticClass","attrs","href","createLink","tabindex","id","on","click","$event","closeAddressCandidateList","keydown","maybeUsedArrow","_v","_s","staticRenderFns","MapAddressCandidateListvue_type_script_lang_js_","props","computed","map","$store","state","candidates","shouldShowAddressCandidateList","activeTopic","isMobileOrTablet","addressAutocompleteEnabled","addressEntered","$config","addressInput","autocompleteEnabled","watch","nextValue","createControl","methods","createLeafletElement","L","ControlParent","_L$Control","el","options","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","DomEvent","disableClickPropagation","disableScrollPropagation","Control","$el","position","leafletElement","leaflet_src","$leafletElement","addTo","parentMounted","parent","e","indexUp","indexDown","target","index","parse_int_default","substring","lastIndexOf","length","document","getElementById","focus","addressCandidate","commit","components_MapAddressCandidateListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/mbmp_pvm_MapAddressCandidateList.5b791202.js","sourcesContent":["import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=style&index=0&id=9694ece0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=style&index=0&id=9694ece0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.shouldShowAddressCandidateList),expression:\"this.shouldShowAddressCandidateList\"}],class:this.listGroupClass},[_c('ul',_vm._l((_vm.candidates),function(candidate,i){return _c('li',[_c('a',{staticClass:\"list-group-item\",attrs:{\"href\":_vm.createLink(candidate),\"tabindex\":\"-1\",\"id\":'address-candidate-list-' + i},on:{\"click\":function($event){return _vm.closeAddressCandidateList(candidate)},\"keydown\":_vm.maybeUsedArrow}},[_vm._v(\"\\n        \"+_vm._s(candidate)+\"\\n      \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"this.listGroupClass\"\n       v-show=\"this.shouldShowAddressCandidateList\"\n  >\n    <ul>\n      <li v-for=\"(candidate, i) in candidates\">\n        <a :href=\"createLink(candidate)\"\n           @click=\"closeAddressCandidateList(candidate)\"\n           class=\"list-group-item\"\n           tabindex=\"-1\"\n           :id=\"'address-candidate-list-' + i\"\n           @keydown=\"maybeUsedArrow\"\n        >\n          {{ candidate }}\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import * as L from 'leaflet';\n\n  export default {\n    name: 'MapAddressCandidateList',\n    props: ['position'],\n    computed: {\n      map() {\n        return this.$store.state.map.map;\n      },\n      candidates() {\n        return this.$store.state.candidates;\n      },\n      shouldShowAddressCandidateList() {\n        return this.$store.state.shouldShowAddressCandidateList;\n      },\n      activeTopic() {\n        return this.$store.state.activeTopic;\n      },\n      isMobileOrTablet() {\n        return this.$store.state.isMobileOrTablet;\n      },\n      listGroupClass() {\n        if (this.isMobileOrTablet) {\n          if (this.addressAutocompleteEnabled) {\n            if (this.addressEntered === '' || this.addressEntered === null) {\n              return 'list-group-mobile';\n            } else {\n              return 'list-group-mobile-full';\n            }\n          } else {\n            return 'list-group-mobile';\n          }\n        } else {\n          if (this.addressAutocompleteEnabled) {\n            if (this.addressEntered === '' || this.addressEntered === null) {\n              return 'list-group';\n            } else {\n              return 'list-group-full';\n            }\n          } else {\n            return 'list-group';\n          }\n        }\n      },\n      addressAutocompleteEnabled() {\n        // TODO this is temporarily disabled\n        if (this.$config.addressInput) {\n          if (this.$config.addressInput.autocompleteEnabled === true) {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      },\n    },\n    watch: {\n      shouldShowAddressCandidateList(nextValue) {\n        // console.log('AddressCandidateList.vue watch shouldShowAddressCandidateList is running, nextValue:', nextValue);\n        if (nextValue === true) {\n          this.createControl();\n        }\n      },\n    },\n    methods: {\n      createLink(candidate) {\n        if (this.$store.state.activeTopic) {\n          return '#/' + candidate + '/' + this.activeTopic;\n        } else {\n          return '#/' + candidate;\n        }\n      },\n      createLeafletElement(L) {\n        // console.log('AddressCandidateList.vue createLeafletElement is running')\n        // subclass Control to accept an el which gets mounted to the map\n        class ControlParent extends L.Control {\n          constructor(el, options) {\n            super(options);\n            this.el = el;\n          }\n          onAdd() {\n            const el = this.el;\n\n            // keep clicks from hitting the map\n            L.DomEvent.disableClickPropagation(el);\n            L.DomEvent.disableScrollPropagation(el);\n\n            return el;\n          }\n        }\n\n        const el = this.$el;\n        return new ControlParent(el, {\n          position: this.position\n        });\n      },\n      createControl() {\n        // console.log('AddressCandidateList.vue createControl is running');\n        const leafletElement = this.createLeafletElement(L);\n        this.$leafletElement = leafletElement;\n        const map = this.map;\n        leafletElement.addTo(map);\n      },\n      parentMounted(parent, props) {\n        // console.log('AddressCandidateList.vue parentMounted is running, parent:', parent, 'props:', props);\n      },\n      maybeUsedArrow(e) {\n        const id = e.target.id;\n        const index = parseInt(id.substring(id.lastIndexOf('-') + 1));\n        let indexUp, indexDown;\n        if (index < this.candidates.length - 1) {\n          indexUp = index + 1;\n        } else (\n          indexUp = index\n        )\n        if (index !== 0) {\n          indexDown = index - 1;\n        } else {\n          indexDown = 0\n        }\n        // console.log('maybeUsedArrow running, e:', e, 'index:', index, 'indexUp:', indexUp, 'indexDown:', indexDown);\n        if (e.key === \"ArrowDown\") {\n          document.getElementById('address-candidate-list-' + indexUp).focus();\n        }\n        if (e.key === \"ArrowUp\") {\n          document.getElementById('address-candidate-list-' + indexDown).focus();\n        }\n      },\n      closeAddressCandidateList(addressCandidate) {\n        // console.log('closeAddressCandidateList, addressCandidate:', addressCandidate);\n        // this.$controller.handleSearchFormSubmit(addressCandidate);\n        this.$store.commit('setAddressEntered', addressCandidate);\n        this.$store.commit('setShouldShowAddressCandidateList', false);\n      },\n    }\n  };\n</script>\n\n<style scoped>\n\n.list-group {\n  height: 300px;\n  width: 250px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\n.list-group-full {\n  height: 300px;\n  width: 197px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\n.list-group-mobile {\n  height: 300px;\n  width: 250px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\n.list-group-mobile-full {\n  height: 300px;\n  width: 197px;\n  overflow: auto;\n  margin-top: 1px !important;\n}\n\nul {\n  list-style-type: none;\n  margin-left: 0px;\n}\n\n.list-group-item {\n  /* width: 237px; */\n  display: block;\n  border-radius: 2px;\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\n  border: 2;\n  background-color: white;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 10px;\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\n  font-size: 14px;\n  font-weight: normal;\n}\n\n.list-group-item:hover {\n  background-color: #ffefa2;\n  font-weight: bold;\n}\n\n/*small*/\n@media screen and (max-width: 39.9375em) {\n  .list-group {\n    width: 200px;\n  }\n\n  .list-group-mobile {\n    width: 200px;\n  }\n\n  .list-group-full {\n    width: 147px;\n  }\n\n  .list-group-mobile-full {\n    width: 158px;\n  }\n}\n\n</style>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAddressCandidateList.vue?vue&type=template&id=9694ece0&scoped=true&\"\nimport script from \"./MapAddressCandidateList.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAddressCandidateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapAddressCandidateList.vue?vue&type=style&index=0&id=9694ece0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9694ece0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}