{"version":3,"sources":["webpack:///./node_modules/@philly/vue-mapping/src/esri-leaflet/DynamicMapLayer.vue?2229","webpack:///node_modules/@philly/vue-mapping/src/esri-leaflet/DynamicMapLayer.vue","webpack:///./node_modules/@philly/vue-mapping/src/esri-leaflet/DynamicMapLayer.vue?02eb","webpack:///./node_modules/@philly/vue-mapping/src/esri-leaflet/DynamicMapLayer.vue","webpack:///node_modules/@philly/vue-mapping/src/components/OpacitySlider.vue","webpack:///./node_modules/@philly/vue-mapping/src/components/OpacitySlider.vue","webpack:///./node_modules/@philly/vue-mapping/src/components/OpacitySlider.vue?5a23","webpack:///./node_modules/@philly/vue-mapping/src/components/OpacitySlider.vue?10b1"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","layer","$leafletElement","position","initialOpacity","opacity","staticRenderFns","DynamicMapLayervue_type_script_lang_js_","name","components","OpacitySlider","props","url","minZoom","maxZoom","zIndex","default","layers","layerDefs","transparent","created","leafletElement","createLeafletElement","map","$store","state","addTo","destroyed","_map","removeLayer","computed","methods","assign_default","$props","EsriLeaflet","parentMounted","parent","esri_leaflet_DynamicMapLayervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","opacity_layer","OpacitySlidervue_type_script_lang_js_","opacityValue","leaflet_src","opacitySlider","extend","options","setOpacityLayer","onAdd","opacity_slider_div","create","$","slider","orientation","range","min","max","value","step","start","event","ui","dragging","disable","once","e","enable","slide","slider_value","setOpacity","click","stopPropagation","mounted","$nextTick","removeControl","h","setPosition","addControl","components_OpacitySlidervue_type_script_lang_js_","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_OpacitySlider_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_OpacitySlider_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"gKAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,kBAA4BE,MAAA,CAAOC,MAAAN,KAAAO,gBAAAC,SAAA,UAAAC,eAAAV,EAAAW,YAC5HC,EAAA,gDCYAC,EAAA,CACAC,KAAA,sBACAC,WAAA,CACAC,gBAAA,MAEAC,MAAA,CACAC,IAAA,GAGAC,QAAA,GAGAC,QAAA,GAGAC,OAAA,GAGAV,QAAA,CACAW,QAAA,GAEAC,OAAA,GAGAC,UAAA,GAGAC,YAAA,IAIAC,QA/BA,WAgCA,IAAAC,EAAA1B,KAAAO,gBAAAP,KAAA2B,uBACAC,EAAA5B,KAAA6B,OAAAC,MAAAF,QAEAA,GACAF,EAAAK,MAAAH,IAGAI,UAvCA,WAwCAhC,KAAAO,gBAAA0B,KAAAC,YAAAlC,KAAAO,kBAOA4B,SAAA,GAGAC,QAAA,CACAT,qBADA,WAEA,IAAAX,EAAAqB,IAAA,GAAArC,KAAAsC,QACA,WAAAC,EAAA,KAAAvB,IAEAwB,cALA,SAKAC,GACA,IAAAb,EAAAa,EAAAlC,gBACAP,KAAAO,gBAAAwB,MAAAH,MCtEsTc,EAAA,cCOtTC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA5C,EACAa,GACF,EACA,KACA,KACA,MAIemC,EAAA,WAAAH,iDCGfI,ECrBAjD,EAAAa,cDuBAqC,EAAA,CACAnC,KAAA,gBACAG,MAAA,CACA,QACA,WACA,kBAEAS,QAPA,WAQA,IAAAwB,EAAA,IAAAjD,KAAAsC,OAAA7B,eAGAyC,EAAA,WAAAC,cAAAD,EAAA,WAAAE,OAAA,CACAC,QAAA,CACA7C,SAAA,YAEA8C,gBAAA,SAAAhD,GACAyC,EAAAzC,GAEAiD,MAAA,SAAA3B,GAEA,IAAA4B,EAAAN,EAAA,WAAAO,OAAA,gCA0BA,OAxBAC,EAAAF,GAAAG,OAAA,CACAC,YAAA,WACAC,MAAA,MACAC,IAAA,EACAC,IAAA,IACAC,MAAAf,EACAgB,KAAA,GACAC,MAAA,SAAAC,EAAAC,GAEAxC,EAAAyC,SAAAC,UACA1C,EAAA2C,KAAA,qBAAAC,GACA5C,EAAAyC,SAAAI,YAGAC,MAAA,SAAAP,EAAAC,GACA,IAAAO,EAAAP,EAAAJ,MAAA,IACAjB,EAAA6B,WAAAD,MAIAjB,EAAAF,GAAAqB,MAAA,SAAAL,GACAA,EAAAM,oBAGAtB,MAIAuB,QAlDA,WAoDA,IAAArD,EAAA1B,KAAAO,gBAAAP,KAAA2B,uBACAC,EAAA5B,KAAA6B,OAAAC,MAAAF,IAEAA,GACA5B,KAAAgF,UAAA,WACAtD,EAAAK,MAAAH,UAIAI,UA7DA,WA8DAhC,KAAAO,gBAAA0B,KAAAgD,cAAAjF,KAAAO,kBAIAT,OAlEA,SAkEAoF,KAGA9C,QAAA,CACAT,qBADA,WAEA,IAAAZ,EAAA,IAAAmC,EAAA,WAAAC,cAGA,OAFApC,EAAAoE,YAAAnF,KAAAsC,OAAA9B,UACAO,EAAAuC,gBAAAtD,KAAAsC,OAAAhC,OACAS,GAEAyB,cAPA,SAOAC,GACA,IAAAb,EAAAa,EAAAlC,gBACAqB,EAAAwD,WAAApF,KAAAO,oBErGoT8E,EAAA,0BDQpT1C,EAAgBC,OAAAC,EAAA,KAAAD,CACdyC,EACFvF,EACAa,GACA,EACA,KACA,KACA,MAIemC,EAAA,KAAAH,6CEnBf,IAAA2C,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAuaE,EAAG","file":"js/mbmp_pvm_EsriDynamicMapLayer.a7f2b24d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('opacity-slider',{attrs:{\"layer\":this.$leafletElement,\"position\":'topleft',\"initialOpacity\":_vm.opacity}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <opacity-slider :layer=\"this.$leafletElement\"\n                  :position=\"'topleft'\"\n                  :initialOpacity=\"opacity\"\n  />\n</template>\n<script>\n  // import * as L from 'leaflet';\n  import { dynamicMapLayer as DynamicMapLayer } from 'esri-leaflet';\n  // TODO things in esri-leaflet should be standalone and not depend on\n  // vue-leaflet-esri components. pass this in as a prop/plugin rather than importing.\n  import OpacitySlider from '../components/OpacitySlider.vue';\n\n  export default {\n    name: 'EsriDynamicMapLayer',\n    components: {\n      OpacitySlider\n    },\n    props: {\n      url: {\n\n      },\n      minZoom: {\n\n      },\n      maxZoom: {\n\n      },\n      zIndex: {\n\n      },\n      opacity: {\n        default: 1.0\n      },\n      layers: {\n\n      },\n      layerDefs: {\n\n      },\n      transparent: {\n\n      },\n    },\n    created() {\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\n      const map = this.$store.state.map.map;\n      // REVIEW kind of hacky/not reactive?\n      if (map) {\n        leafletElement.addTo(map);\n      }\n    },\n    destroyed() {\n      this.$leafletElement._map.removeLayer(this.$leafletElement);\n    },\n    // we don't actually render anything, but need to define either a template\n    // or a render function\n    // render(h) {\n    //   return;\n    // },\n    computed: {\n\n    },\n    methods: {\n      createLeafletElement() {\n        const props = Object.assign({}, this.$props);\n        return new DynamicMapLayer(props);\n      },\n      parentMounted(parent) {\n        const map = parent.$leafletElement;\n        this.$leafletElement.addTo(map);\n      }\n    }\n  };\n</script>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./DynamicMapLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./DynamicMapLayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicMapLayer.vue?vue&type=template&id=4faca4ae&\"\nimport script from \"./DynamicMapLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicMapLayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- <template>\n  <div class=\"slider-wrapper\">\n    <input class=\"slider\"\n           type=\"range\"\n           min=\"1\"\n           max=\"100\"\n           step=\"1\"\n           v-model=\"opa\"\n    >\n  </div>\n</template> -->\n\n<script>\n  import * as L from 'leaflet';\n\n  // TODO look into a cleaner way of importing from esri-leaflet\n  // import Control from '../leaflet/Control';\n  //\n  // // REVIEW is there a better way to extend a vue component?\n  // const {props, methods} = Control;\n\n  let opacity_layer;\n\n  export default {\n    name: 'OpacitySlider',\n    props: [\n      'layer',\n      'position',\n      'initialOpacity'\n    ],\n    created() {\n      let opacityValue = this.$props.initialOpacity * 100\n      // console.log(\"opacityValue\", opacityValue);\n\n      L.Control.opacitySlider = L.Control.extend({\n        options: {\n          position: 'topright'\n        },\n        setOpacityLayer: function (layer) {\n          opacity_layer = layer;\n        },\n        onAdd: function (map) {\n          // console.log('on add', this, this.$props);\n          var opacity_slider_div = L.DomUtil.create('div', 'opacity_slider_control');\n\n          $(opacity_slider_div).slider({\n            orientation: \"vertical\",\n            range: \"min\",\n            min: 0,\n            max: 100,\n            value: opacityValue,\n            step: 10,\n            start: function ( event, ui) {\n              //When moving the slider, disable panning.\n              map.dragging.disable();\n              map.once('mousedown', function (e) {\n                map.dragging.enable();\n              });\n            },\n            slide: function ( event, ui ) {\n              var slider_value = ui.value / 100;\n              opacity_layer.setOpacity(slider_value);\n            }\n          });\n\n          $(opacity_slider_div).click(function(e) {\n            e.stopPropagation();\n          })\n\n          return opacity_slider_div;\n        }\n      });\n    },\n    mounted() {\n\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\n      const map = this.$store.state.map;\n      // REVIEW kind of hacky/not reactive?\n      if (map) {\n        this.$nextTick(() => {\n          leafletElement.addTo(map.map);\n        });\n      }\n    },\n    destroyed() {\n      this.$leafletElement._map.removeControl(this.$leafletElement);\n    },\n    // we don't actually render anything, but need to define either a template\n    // or a render function\n    render(h) {\n      return;\n    },\n    methods: {\n      createLeafletElement() {\n        const OpacitySlider = new L.Control.opacitySlider;\n        OpacitySlider.setPosition(this.$props.position);\n        OpacitySlider.setOpacityLayer(this.$props.layer);\n        return OpacitySlider;\n      },\n      parentMounted(parent) {\n        const map = parent.$leafletElement;\n        map.addControl(this.$leafletElement);\n      }\n    }\n  };\n\n</script>\n\n<style>\n\n.opacity_slider_control .ui-slider-range {\n    background-image: none;\n    background-color: #646464;\n    height: 200px;\n}\n\n</style>\n","var render, staticRenderFns\nimport script from \"./OpacitySlider.vue?vue&type=script&lang=js&\"\nexport * from \"./OpacitySlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OpacitySlider.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}