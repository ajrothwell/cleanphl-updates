{"version":3,"sources":["webpack:///../phila-vue-mapping/src/esri-leaflet/TiledOverlay.vue?d041","webpack:///../phila-vue-mapping/src/esri-leaflet/TiledOverlay.vue","webpack:///../phila-vue-mapping/src/esri-leaflet/TiledOverlay.vue?57ac","webpack:///../phila-vue-mapping/src/esri-leaflet/TiledOverlay.vue?8c2e","webpack:///../phila-vue-mapping/src/components/OpacitySlider.vue","webpack:///../phila-vue-mapping/src/components/OpacitySlider.vue?1560","webpack:///../phila-vue-mapping/src/components/OpacitySlider.vue?f033","webpack:///../phila-vue-mapping/src/components/OpacitySlider.vue?3808"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","layer","$leafletElement","position","initialOpacity","opacity","staticRenderFns","TiledOverlayvue_type_script_lang_js_","name","components","OpacitySlider","props","created","leafletElement","createLeafletElement","map","$store","state","addTo","attributionControl","removeAttribution","destroyed","_map","removeLayer","methods","assign_default","$props","mapLayer","esri_leaflet_debug","parentMounted","parent","esri_leaflet_TiledOverlayvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","opacity_layer","OpacitySlidervue_type_script_lang_js_","opacityValue","leaflet_src","opacitySlider","extend","options","setOpacityLayer","onAdd","opacity_slider_div","create","$","slider","orientation","range","min","max","value","step","start","event","ui","dragging","disable","once","e","enable","slide","slider_value","setOpacity","click","stopPropagation","mounted","$nextTick","removeControl","h","setPosition","addControl","components_OpacitySlidervue_type_script_lang_js_","_cleanphl_updates_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_cleanphl_updates_node_modules_css_loader_index_js_ref_6_oneOf_1_1_cleanphl_updates_node_modules_vue_loader_lib_loaders_stylePostLoader_js_cleanphl_updates_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_cleanphl_updates_node_modules_cache_loader_dist_cjs_js_ref_0_0_cleanphl_updates_node_modules_vue_loader_lib_index_js_vue_loader_options_OpacitySlider_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_cleanphl_updates_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_cleanphl_updates_node_modules_css_loader_index_js_ref_6_oneOf_1_1_cleanphl_updates_node_modules_vue_loader_lib_loaders_stylePostLoader_js_cleanphl_updates_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_cleanphl_updates_node_modules_cache_loader_dist_cjs_js_ref_0_0_cleanphl_updates_node_modules_vue_loader_lib_index_js_vue_loader_options_OpacitySlider_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"oIAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,kBAA4BE,MAAA,CAAOC,MAAAN,KAAAO,gBAAAC,SAAA,UAAAC,eAAAV,EAAAW,YAC5HC,EAAA,gDCeAC,EAAA,CACAC,KAAA,mBACAC,WAAA,CACAC,gBAAA,MAEAC,MAAA,CACA,MACA,UACA,UACA,SACA,cACA,WAEAC,QAbA,WAcA,IAAAC,EAAAlB,KAAAO,gBAAAP,KAAAmB,uBACAC,EAAApB,KAAAqB,OAAAC,MAAAF,QAGAA,IACAF,EAAAK,MAAAH,GACAA,EAAAI,mBAAAC,kBAAA,eAGAC,UAvBA,WAwBA1B,KAAAO,gBAAAoB,KAAAC,YAAA5B,KAAAO,kBAOAsB,QAAA,CACAV,qBADA,WAEA,IAAAH,EAAAc,IAAA,GAAA9B,KAAA+B,QACAC,EAAA,IAAAC,EAAA,iBAAAjB,GACA,OAAAgB,GAEAE,cANA,SAMAC,GACA,IAAAf,EAAAe,EAAA5B,gBACAP,KAAAO,gBAAAgB,MAAAH,MCvD0bgB,EAAA,cCO1bC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAtC,EACAa,GACF,EACA,KACA,KACA,MAIe6B,EAAA,WAAAH,mDCGfI,ECrBA3C,EAAAa,cDuBA+B,EAAA,CACA7B,KAAA,gBACAG,MAAA,CACA,QACA,WACA,kBAEAC,QAPA,WAQA,IAAA0B,EAAA,IAAA3C,KAAA+B,OAAAtB,eAGAmC,EAAA,WAAAC,cAAAD,EAAA,WAAAE,OAAA,CACAC,QAAA,CACAvC,SAAA,YAEAwC,gBAAA,SAAA1C,GACAmC,EAAAnC,GAEA2C,MAAA,SAAA7B,GAEA,IAAA8B,EAAAN,EAAA,WAAAO,OAAA,gCA0BA,OAxBAC,EAAAF,GAAAG,OAAA,CACAC,YAAA,WACAC,MAAA,MACAC,IAAA,EACAC,IAAA,IACAC,MAAAf,EACAgB,KAAA,GACAC,MAAA,SAAAC,EAAAC,GAEA1C,EAAA2C,SAAAC,UACA5C,EAAA6C,KAAA,qBAAAC,GACA9C,EAAA2C,SAAAI,YAGAC,MAAA,SAAAP,EAAAC,GACA,IAAAO,EAAAP,EAAAJ,MAAA,IACAjB,EAAA6B,WAAAD,MAIAjB,EAAAF,GAAAqB,MAAA,SAAAL,GACAA,EAAAM,oBAGAtB,MAIAuB,QAlDA,WAoDA,IAAAvD,EAAAlB,KAAAO,gBAAAP,KAAAmB,uBACAC,EAAApB,KAAAqB,OAAAC,MAAAF,IAEAA,GACApB,KAAA0E,UAAA,WACAxD,EAAAK,MAAAH,UAIAM,UA7DA,WA8DA1B,KAAAO,gBAAAoB,KAAAgD,cAAA3E,KAAAO,kBAIAT,OAlEA,SAkEA8E,KAGA/C,QAAA,CACAV,qBADA,WAEA,IAAAJ,EAAA,IAAA6B,EAAA,WAAAC,cAGA,OAFA9B,EAAA8D,YAAA7E,KAAA+B,OAAAvB,UACAO,EAAAiC,gBAAAhD,KAAA+B,OAAAzB,OACAS,GAEAmB,cAPA,SAOAC,GACA,IAAAf,EAAAe,EAAA5B,gBACAa,EAAA0D,WAAA9E,KAAAO,oBErG2bwE,EAAA,0BDQ3b1C,EAAgBC,OAAAC,EAAA,KAAAD,CACdyC,EACFjF,EACAa,GACA,EACA,KACA,KACA,MAIe6B,EAAA,KAAAH,oEEnBf,IAAA2C,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAykBE,EAAG","file":"js/mbmp_pvm_EsriTiledOverlay.18b2db94.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('opacity-slider',{attrs:{\"layer\":this.$leafletElement,\"position\":'topleft',\"initialOpacity\":_vm.opacity}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- REVIEW should this be merged with TiledMapLayer.vue and put the opacity\r\nslider in a slot? -->\r\n\r\n<template>\r\n  <opacity-slider :layer=\"this.$leafletElement\"\r\n                  :position=\"'topleft'\"\r\n                  :initialOpacity=\"opacity\"\r\n  />\r\n  <!-- <div v-if=\"!opacitySlider\"></div> -->\r\n</template>\r\n\r\n<script>\r\n  // import * as L from 'leaflet';\r\n  import { tiledMapLayer as TiledMapLayer } from 'esri-leaflet';\r\n  import OpacitySlider from '../components/OpacitySlider.vue';\r\n\r\n  export default {\r\n    name: 'EsriTiledOverlay',\r\n    components: {\r\n      OpacitySlider\r\n    },\r\n    props: [\r\n      'url',\r\n      'minZoom',\r\n      'maxZoom',\r\n      'zIndex',\r\n      'attribution',\r\n      'opacity'\r\n    ],\r\n    created() {\r\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\r\n      const map = this.$store.state.map.map;\r\n\r\n      // REVIEW kind of hacky/not reactive?\r\n      if (map) {\r\n        leafletElement.addTo(map);\r\n        map.attributionControl.removeAttribution('overwrite');\r\n      }\r\n    },\r\n    destroyed() {\r\n      this.$leafletElement._map.removeLayer(this.$leafletElement);\r\n    },\r\n    // we don't actually render anything, but need to define either a template\r\n    // or a render function\r\n    // render(h) {\r\n    //   return;\r\n    // },\r\n    methods: {\r\n      createLeafletElement() {\r\n        const props = Object.assign({}, this.$props);\r\n        const mapLayer = new TiledMapLayer(props);\r\n        return mapLayer;\r\n      },\r\n      parentMounted(parent) {\r\n        const map = parent.$leafletElement;\r\n        this.$leafletElement.addTo(map);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n","import mod from \"-!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../cleanphl-updates/node_modules/thread-loader/dist/cjs.js!../../../cleanphl-updates/node_modules/babel-loader/lib/index.js!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./TiledOverlay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../cleanphl-updates/node_modules/thread-loader/dist/cjs.js!../../../cleanphl-updates/node_modules/babel-loader/lib/index.js!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./TiledOverlay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TiledOverlay.vue?vue&type=template&id=cae81f0e&\"\nimport script from \"./TiledOverlay.vue?vue&type=script&lang=js&\"\nexport * from \"./TiledOverlay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../cleanphl-updates/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- <template>\r\n  <div class=\"slider-wrapper\">\r\n    <input class=\"slider\"\r\n           type=\"range\"\r\n           min=\"1\"\r\n           max=\"100\"\r\n           step=\"1\"\r\n           v-model=\"opa\"\r\n    >\r\n  </div>\r\n</template> -->\r\n\r\n<script>\r\n  import * as L from 'leaflet';\r\n\r\n  // TODO look into a cleaner way of importing from esri-leaflet\r\n  // import Control from '../leaflet/Control';\r\n  //\r\n  // // REVIEW is there a better way to extend a vue component?\r\n  // const {props, methods} = Control;\r\n\r\n  let opacity_layer;\r\n\r\n  export default {\r\n    name: 'OpacitySlider',\r\n    props: [\r\n      'layer',\r\n      'position',\r\n      'initialOpacity'\r\n    ],\r\n    created() {\r\n      let opacityValue = this.$props.initialOpacity * 100\r\n      // console.log(\"opacityValue\", opacityValue);\r\n\r\n      L.Control.opacitySlider = L.Control.extend({\r\n        options: {\r\n          position: 'topright'\r\n        },\r\n        setOpacityLayer: function (layer) {\r\n          opacity_layer = layer;\r\n        },\r\n        onAdd: function (map) {\r\n          // console.log('on add', this, this.$props);\r\n          var opacity_slider_div = L.DomUtil.create('div', 'opacity_slider_control');\r\n\r\n          $(opacity_slider_div).slider({\r\n            orientation: \"vertical\",\r\n            range: \"min\",\r\n            min: 0,\r\n            max: 100,\r\n            value: opacityValue,\r\n            step: 10,\r\n            start: function ( event, ui) {\r\n              //When moving the slider, disable panning.\r\n              map.dragging.disable();\r\n              map.once('mousedown', function (e) {\r\n                map.dragging.enable();\r\n              });\r\n            },\r\n            slide: function ( event, ui ) {\r\n              var slider_value = ui.value / 100;\r\n              opacity_layer.setOpacity(slider_value);\r\n            }\r\n          });\r\n\r\n          $(opacity_slider_div).click(function(e) {\r\n            e.stopPropagation();\r\n          })\r\n\r\n          return opacity_slider_div;\r\n        }\r\n      });\r\n    },\r\n    mounted() {\r\n\r\n      const leafletElement = this.$leafletElement = this.createLeafletElement();\r\n      const map = this.$store.state.map;\r\n      // REVIEW kind of hacky/not reactive?\r\n      if (map) {\r\n        this.$nextTick(() => {\r\n          leafletElement.addTo(map.map);\r\n        });\r\n      }\r\n    },\r\n    destroyed() {\r\n      this.$leafletElement._map.removeControl(this.$leafletElement);\r\n    },\r\n    // we don't actually render anything, but need to define either a template\r\n    // or a render function\r\n    render(h) {\r\n      return;\r\n    },\r\n    methods: {\r\n      createLeafletElement() {\r\n        const OpacitySlider = new L.Control.opacitySlider;\r\n        OpacitySlider.setPosition(this.$props.position);\r\n        OpacitySlider.setOpacityLayer(this.$props.layer);\r\n        return OpacitySlider;\r\n      },\r\n      parentMounted(parent) {\r\n        const map = parent.$leafletElement;\r\n        map.addControl(this.$leafletElement);\r\n      }\r\n    }\r\n  };\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n.opacity_slider_control .ui-slider-range {\r\n    background-image: none;\r\n    background-color: #646464;\r\n    height: 200px;\r\n}\r\n\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./OpacitySlider.vue?vue&type=script&lang=js&\"\nexport * from \"./OpacitySlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OpacitySlider.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../cleanphl-updates/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../cleanphl-updates/node_modules/thread-loader/dist/cjs.js!../../../cleanphl-updates/node_modules/babel-loader/lib/index.js!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../cleanphl-updates/node_modules/thread-loader/dist/cjs.js!../../../cleanphl-updates/node_modules/babel-loader/lib/index.js!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../cleanphl-updates/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../cleanphl-updates/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../cleanphl-updates/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../cleanphl-updates/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../cleanphl-updates/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../cleanphl-updates/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../cleanphl-updates/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../cleanphl-updates/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cleanphl-updates/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../cleanphl-updates/node_modules/vue-loader/lib/index.js??vue-loader-options!./OpacitySlider.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}